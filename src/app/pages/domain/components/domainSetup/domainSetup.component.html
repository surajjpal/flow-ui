<div class="widgets">
  <div class="row">
    <ba-card [cardTitle]="domainCreateMode ? 'Create Domain' : 'Update Domain'" baCardClass="with-scroll" class="col-md-12">
      <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="domainTab" data-toggle="tab" href="#domainContent" role="tab" aria-controls="domain" aria-expanded="true">Domain</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="intentTrainingTab" data-toggle="tab" href="#intentTrainingContent" role="tab" aria-controls="intentTraining">Intent Training</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="entityTrainingTab" data-toggle="tab" href="#entityTrainingContent" role="tab" aria-controls="entityTraining">Entity Training</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="goalSetupTab" data-toggle="tab" href="#goalSetupContent" role="tab" aria-controls="goalSetup">Goal Setup
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="responseMessagesTab" data-toggle="tab" href="#responseMessagesContent" role="tab" aria-controls="responseMessages">Response Messages</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="cardsTab" data-toggle="tab" href="#cardsContent" role="tab" aria-controls="cards">Cards</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="formsTab" data-toggle="tab" href="#formsContent" role="tab" aria-controls="forms">Forms</a>
        </li>
      </ul>
      <div class="tab-content">
        <div role="tabpanel" class="tab-pane fade show active" id="domainContent" aria-labelledby="domainTab">
          <div class="panel panel-default">
            <form>
              <div class="form-group">
                <label>Domain Name</label>
                <input type="text" class="form-control" required placeholder="Domain Name" [(ngModel)]="selectedDomain.name" name="name"
                />
              </div>
              <div class="form-group">
                <label>Domain Description</label>
                <input type="text" class="form-control" required placeholder="Domain Description" [(ngModel)]="selectedDomain.desc" name="desc"
                />
              </div>
              <div class="form-group">
                <label>Lanugage Supported</label>
                <select class="selectpicker form-control" multiple="true" title="Select supported languages" [(ngModel)]="selectedDomain.langSupported"
                  name="langSupported">
                  <option *ngFor="let language of languageSource" [ngValue]="language">{{language}}</option>
                </select>
              </div>
            </form>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane fade" id="intentTrainingContent" aria-labelledby="intentTrainingTab">
          <div class="panel panel-default">
            <div class="data-table-container">
              <ba-file-uploader [defaultValue]="'Upload Intent Excel'" [fileUploaderOptions]="intentUploaderOptions" (onFileUpload)="onExcelUpload($event)"
                (onFileUploadCompleted)="onExcelUploadComplete($event)"></ba-file-uploader>
            </div>
            <form class="row form-inline">
              <div class="form-group col-sm-10">
                <input class="form-control" [(ngModel)]="intentFilterQuery" name="intentFilterQuery" placeholder="Filter Query" />
              </div>
              <div class="form-group col-sm-2">
                <button type="button" class="btn btn-primary" (click)="onIntentSelect()" data-toggle="modal" data-target="#intentModal">
                  Add Intent
                </button>
              </div>
            </form>
            <br>

            <table class="table table-striped" [mfData]="selectedDomain.domainIntents | universalDataFilter : intentFilterQuery" #mfIntent="mfDataTable"
              [mfRowsOnPage]="10" mfSortBy="intentCd">
              <thead>
                <tr>
                  <th>
                    <mfDefaultSorter by="intentCd">Intent Code</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="intentParent">Intent Parent</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="tags">Tags</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="weight">Weight</mfDefaultSorter>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let intent of mfIntent.data" (click)="onIntentSelect(intent)" data-toggle="modal" data-target="#intentModal">
                  <td>{{intent.intentCd}}</td>
                  <td>{{intent.intentParent}}</td>
                  <td>{{intent.tags}}</td>
                  <td>{{intent.weight}}</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="100%">
                    <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25,50,100]"></mfBootstrapPaginator>
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane fade" id="entityTrainingContent" aria-labelledby="entityTrainingTab">
          <div class="panel panel-default">
            <div class="data-table-container">
              <ba-file-uploader [defaultValue]="'Upload Entity Excel'" [fileUploaderOptions]="entityUploaderOptions" (onFileUpload)="onExcelUpload($event)"
                (onFileUploadCompleted)="onExcelUploadComplete($event)"></ba-file-uploader>
            </div>
            <form class="row form-inline">
              <div class="form-group col-sm-10">
                <input class="form-control" [(ngModel)]="entityFilterQuery" name="entityFilterQuery" placeholder="Filter Query" />
              </div>
              <div class="form-group col-sm-2">
                <button type="button" class="btn btn-primary" (click)="onEntitySelect()" data-toggle="modal" data-target="#entityModal">
                  Add Entity
                </button>
              </div>
            </form>
            <br>

            <table class="table table-striped" [mfData]="selectedDomain.domainEntities | universalDataFilter : entityFilterQuery" #mfEntity="mfDataTable"
              [mfRowsOnPage]="10" mfSortBy="entityCd">
              <thead>
                <tr>
                  <th>
                    <mfDefaultSorter by="entityCd">Entity Code</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="entityParent">Entity Parent</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="tags">Tags</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="transactionValue">Transaction Value</mfDefaultSorter>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let entity of mfEntity.data" (click)="onEntitySelect(entity)" data-toggle="modal" data-target="#entityModal">
                  <td>{{entity.entityCd}}</td>
                  <td>{{entity.entityParent}}</td>
                  <td>{{entity.tags}}</td>
                  <td>{{entity.transactionValue}}</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="100%">
                    <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25,50,100]"></mfBootstrapPaginator>
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane fade" id="goalSetupContent" aria-labelledby="goalSetupTab">
          <div class="panel panel-default">
            <form class="row form-inline">
              <div class="form-group col-sm-10">
                <input class="form-control" [(ngModel)]="goalFilterQuery" name="goalFilterQuery" placeholder="Filter Query" />
              </div>
              <div class="form-group col-sm-2">
                <button type="button" class="btn btn-primary" (click)="onGoalSelect()" data-toggle="modal" data-target="#goalModal">
                  Add Goal
                </button>
              </div>
            </form>
            <br>

            <table class="table table-striped" [mfData]="selectedDomain.domainGoals | universalDataFilter : goalFilterQuery" #mfGoal="mfDataTable"
              [mfRowsOnPage]="10" mfSortBy="goalName">
              <thead>
                <tr>
                  <th>
                    <mfDefaultSorter by="goalName">Goal Name</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="expression">Expression</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="api">Goal API</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="domainGoalSteps">Goal Responses</mfDefaultSorter>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let goal of mfGoal.data" (click)="onGoalSelect(goal)" data-toggle="modal" data-target="#goalModal">
                  <td>{{goal.goalName}}</td>
                  <td>{{goal.expression}}</td>
                  <td>{{goal.api}}</td>
                  <td>{{goalStepToString(goal.domainGoalSteps)}}</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="100%">
                    <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25,50,100]"></mfBootstrapPaginator>
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane fade" id="responseMessagesContent" aria-labelledby="responseMessagesTab">
          <!--Contents of Response messages tab-->
          <div class="panel panel-default">
            <form class="row form-inline">
              <div class="form-group col-sm-10">
                <input class="form-control" [(ngModel)]="responseFilterQuery" name="responseFilterQuery" placeholder="Filter Query" />
              </div>
              <div class="form-group col-sm-2">
                <button type="button" class="btn btn-primary" (click)="onResponseSelect()" data-toggle="modal" data-target="#responseModal">
                  Add Response
                </button>
              </div>
            </form>
            <br>

            <table class="table table-striped" [mfData]="selectedDomain.domainResponse | universalDataFilter : responseFilterQuery" #mfResponse="mfDataTable"
              [mfRowsOnPage]="10" mfSortBy="response">
              <thead>
                <tr>
                  <th>
                    <mfDefaultSorter by="expression">Expression</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="lang">Language</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="stage">Stage</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="response">Response</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="actionHTML">Action HTML</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="disableUserInput">Disable User Input</mfDefaultSorter>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let response of mfResponse.data" (click)="onResponseSelect(response)" data-toggle="modal" data-target="#responseModal">
                  <td>{{response.expression}}</td>
                  <td>{{response.lang}}</td>
                  <td>{{response.stage}}</td>
                  <td>{{response.response}}</td>
                  <td>{{response.actionHTML}}</td>
                  <td>{{response.disableUserInput}}</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="100%">
                    <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25,50,100]"></mfBootstrapPaginator>
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane fade" id="cardsContent" aria-labelledby="cardsTab">
          <div class="panel panel-default">
            <form class="row form-inline">
              <div class="form-group col-sm-10">
                <input class="form-control" [(ngModel)]="cardsFilterQuery" name="cardsFilterQuery" placeholder="Filter Query" />
              </div>
              <div class="form-group col-sm-2">
                <button type="button" class="btn btn-primary" (click)="onCardSelect()" data-toggle="modal" data-target="#cardModal">
                  Add Card
                </button>
              </div>
            </form>
            <br>
            <table class="table table-striped" [mfData]="selectedDomain.cards | universalDataFilter : cardsFilterQuery" #mfCard="mfDataTable"
              [mfRowsOnPage]="10" mfSortBy="cardName">
              <thead>
                <tr>
                  <th>
                    <mfDefaultSorter by="cardName">Name</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter by="templateName">Template</mfDefaultSorter>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let card of mfCard.data" (click)="onCardSelect(card)" data-toggle="modal" data-target="#cardModal">
                  <td>{{card.cardName}}</td>
                  <td>{{card.templateName}}</td>

                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="100%">
                    <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25,50,100]"></mfBootstrapPaginator>
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane fade" id="formsContent" aria-labelledby="formsTab">
          <div class="panel panel-default">
            <form class="row form-inline">
              <div class="form-group col-sm-10">
                <input class="form-control" [(ngModel)]="modelsFilterQuery" name="modelsFilterQuery" placeholder="Filter Query" />
              </div>
              <div class="form-group col-sm-2">
                <button type="button" class="btn btn-primary" (click)="onModelSelect()" data-toggle="modal" data-target="#modelModal">
                  Add Form
                </button>
              </div>
            </form>
            <br>
            <table class="table table-striped" [mfData]="selectedDomain.models | universalDataFilter : modelsFilterQuery" #mfModels="mfDataTable"
              [mfRowsOnPage]="10" mfSortBy="modelName">
              <thead>
                <tr>
                  <th>
                    <mfDefaultSorter by="modelName">Name</mfDefaultSorter>
                  </th>
                  <th>
                    Header
                  </th>
                  
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let model of mfModels.data" (click)="onModelSelect(model)" data-toggle="modal" data-target="#modelModal">
                  <td>{{ model.modelName }}</td>
                  <td>{{ model.header }}</td>

                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="100%">
                    <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25,50,100]"></mfBootstrapPaginator>
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </div>

      <form>
        <div *ngIf='!hideButtons'>
          <div class="form-group" *ngIf='!showAutoCon'>
            <button type="button" class="btn btn-primary" *ngIf="!domainActivateMode" (click)="createDomain()" data-toggle="modal" data-target="#domainUpdateModal">
              {{domainCreateMode ? 'Create Domain' : 'Update Domain'}}
            </button>
            <button type="button" class="btn btn-info" style="float: right;" *ngIf="!domainEditMode && !domainCreateMode" (click)="cloneDomain()">
              {{'Clone Domain'}}
            </button>
            <button type="button" class="btn btn-primary" *ngIf="domainActivateMode" (click)="activateDomaiWarning()">
                {{'Activate Domain'}}
              </button>
            <button type="button" *ngIf="showTestButton" class="btn btn-success" (click)="testDomain()">
              {{'Test Domain'}}
            </button>
          </div>
          <div class="form-group" *ngIf='showAutoCon'>
            <button type="button" *ngIf="showTestButton" class="btn btn-danger" (click)="exitTesting()">
              {{'Exit Testing'}}
            </button>
          </div>
        </div>
      </form>



    </ba-card>
  </div>

</div>


<div class="modal fade" id="intentModal" tabindex="-1" role="dialog" attr.aria-labelledby="intentModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="intentModalLabel">
          {{modalHeader}}
        </h4>
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
          <span class="sr-only">Close</span>
        </button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label>Intent Code</label>
            <input class="form-control" placeholder="Intent Code" [(ngModel)]="tempIntent.intentCd" name="intentCd" />
          </div>
          <div class="form-group">
            <label>Intent Parent</label>
            <input class="form-control" placeholder="Intent Parent" [(ngModel)]="tempIntent.intentParent" name="intentParent" />
          </div>
          <div class="form-group">
            <label>Tags</label>
            <tag-input [(ngModel)]="tempIntent.tags" dragZone="tags" (keyup.enter)="getIntentSynonyms()" name="tags" [modelAsStrings]="true"
              [editable]="true" [separatorKeys]="[32]" placeholder="+Tags (Enter separated)" secondaryPlaceholder="Enter a new tag (Enter separated)"
              theme="minimal" class="custom-input-tag-border"></tag-input>
          </div>
          <div class="form-group" *ngIf='showTags'>
            <label>Suggested Tags</label>
            <tag-input [(ngModel)]="suggestedTags" dragZone="tags" name="suggestedTags" [modelAsStrings]="true" [removable]="false" [separatorKeys]="[32]"
              theme="minimal" class="custom-input-tag-border"></tag-input>
          </div>
          <div class="form-group">
            <label>Weight</label>
            <input type="number" class="form-control" placeholder="Weight" min="0" [(ngModel)]="tempIntent.weight" name="weight" onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
            />
          </div>
        </form>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button *ngIf="!createMode" type="submit" class="btn btn-danger" data-dismiss="modal" (click)="removeIntent()">Remove</button>
        <button type="submit" class="btn btn-primary" data-dismiss="modal" (click)="addIntent()">{{createMode ? 'Create' : 'Update'}}</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="entityModal" tabindex="-1" role="dialog" attr.aria-labelledby="entityModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="entityModalLabel">
          {{modalHeader}}
        </h4>
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
          <span class="sr-only">Close</span>
        </button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label>Entity Code</label>
            <input class="form-control" placeholder="Entity Code" [(ngModel)]="tempEntity.entityCd" name="entityCd" />
          </div>
          <div class="form-group">
            <label>Entity Parent</label>
            <input class="form-control" placeholder="Entity Parent" [(ngModel)]="tempEntity.entityParent" name="entityParent" />
          </div>
          <div class="form-group">
            <label>Tags</label>
            <tag-input [(ngModel)]="tempEntity.tags" name="tags" dragZone="tags" (keyup.enter)="getEntitySynonyms()" [modelAsStrings]="true"
              [editable]="true" [separatorKeys]="[32]" placeholder="+Tags (Enter separated)" secondaryPlaceholder="Enter a new tag (Enter separated)"
              theme="minimal" class="custom-input-tag-border"></tag-input>
          </div>
          <div class="form-group" *ngIf='showTags'>
            <label>Suggested Tags</label>
            <tag-input [(ngModel)]="suggestedTags" dragZone="tags" name="suggestedTags" [modelAsStrings]="true" [removable]="false" [separatorKeys]="[32]"
              theme="minimal" class="custom-input-tag-border"></tag-input>
          </div>
          <div class="form-group">
            <label>Transaction Value</label>
            <input type="number" class="form-control" placeholder="Transaction Value" min="0" [(ngModel)]="tempEntity.transactionValue"
              name="transactionValue" onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
            />
          </div>
        </form>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button *ngIf="!createMode" type="submit" class="btn btn-danger" data-dismiss="modal" (click)="removeEntity()">Remove</button>
        <button type="submit" class="btn btn-primary" data-dismiss="modal" (click)="addEntity()">{{createMode ? 'Create' : 'Update'}}</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="goalModal" tabindex="-1" role="dialog" attr.aria-labelledby="goalModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="goalsModalLabel">
          {{modalHeader}}
        </h4>
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
          <span class="sr-only">Close</span>
        </button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label class="col-md-12 col-sm-12 col-xs-12" for="goalNameLabel">
              Goal Name
            </label>
            <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" id="goalNameLabel" placeholder="Goal Name" [(ngModel)]="tempGoal.goalName"
              name="goalName" />
          </div>
          <div class="form-group">
            <label class="col-md-12 col-sm-12 col-xs-12" for="expressionLabel">
              Expression
            </label>
            <!-- <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" id="expressionLabel" placeholder="Expression" [(ngModel)]="tempGoal.expression"
              name="expression" /> -->
            <textarea class="form-control" placeholder="Enter domain expressions (separated by line)" [(ngModel)]="bulkExpressions" name="bulkExpressions"></textarea>
          </div>
          <div class="form-group">
            <label class="col-md-12 col-sm-12 col-xs-12" for="dependentGoalExpressionLabel">
              Dependent Goal Expression
            </label>
            <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" id="dependentGoalExpressionLabel" placeholder="Dependent Goal Expression"
              [(ngModel)]="tempGoal.dependentGoalExpression" name="dependentGoalExpression" />
          </div>
          <div class="row">
            <api-checkbox class="col-md-3" [checked]="tempGoal.flowFlag" [label]="'Flow Flag'" (event)="tempGoal.flowFlag = $event.target.checked"></api-checkbox>
            <api-checkbox class="col-md-3" [checked]="tempGoal.validationCheck" [label]="'Validation Check'" (event)="tempGoal.validationCheck = $event.target.checked"></api-checkbox>
          </div>
          <div class="row">
            <api-checkbox class="col-md-3" [checked]="tempGoal.htmlFlag" [label]="'HTML Flag'" (event)="toggleCheck('HTML_FLAG', $event.target.checked)"></api-checkbox>
            <api-checkbox class="col-md-3" [checked]="tempGoal.responseChange" [label]="'Response Change'" (event)="toggleCheck('RESPONSE_CHANGE', $event.target.checked)"></api-checkbox>
            <api-checkbox class="col-md-3" [checked]="tempGoal.responseDependent" [label]="'Response Dependent'" (event)="toggleCheck('RESPONSE_DEPENDENT', $event.target.checked)"></api-checkbox>
          </div>
          <div class="form-group" *ngIf="tempGoal.htmlFlag || tempGoal.responseChange || tempGoal.responseDependent">
            <label class="col-md-12 col-sm-12 col-xs-12" for="valueExpressionLabel">
              Value Expression
            </label>
            <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" id="valueExpressionLabel" placeholder="Value Expression"
              [(ngModel)]="tempGoal.valueExpression" name="valueExpression" />
          </div>
          <div class="form-group" *ngIf="tempGoal.htmlFlag">
            <label class="col-md-12 col-sm-12 col-xs-12" for="tagExpressionLabel">
              Tag Expression
            </label>
            <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" id="tagExpressionLabel" placeholder="Tag Expression"
              [(ngModel)]="tempGoal.tagExpression" name="tagExpression" />
          </div>
          <div class="form-group">
            <label class="col-md-12 col-sm-12 col-xs-12" for="goalApiLabel">
              Goal API
            </label>
            <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" id="goalApiLabel" placeholder="Goal API" [(ngModel)]="tempGoal.api"
              name="api" />
          </div>
          <div class="form-group">
            <label class="col-md-12 col-sm-12 col-xs-12" for="responseExpressionLabel">
              Response Expression
            </label>
            <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" id="responseExpression" placeholder="Response Expression"
              [(ngModel)]="tempGoal.responseExpression" name="responseExpression" />
          </div>
        </form>

        <div id="goalStepAccordion" role="tablist" aria-multiselectable="true" *ngIf="tempGoal.domainGoalSteps.length > 0">
          <div *ngFor="let goalStep of tempGoal.domainGoalSteps; let index=index" class="panel">
            <div class="card">
              <div *ngIf="index == 0" [id]="'gsTabHeading' + index" class="card-header" heightStyle="content" role="tab">
                <h5 class="mb-0">
                  <a data-toggle="collapse" data-parent="#goalStepAccordion" [href]="'#gsCollapse' + index" aria-expanded="true" [attr.aria-controls]="'gsCollapse' + index">
                    {{'Click to expand ' + goalStep.goalExpression}}
                  </a>
                </h5>
              </div>
              <div *ngIf="index != 0" [id]="'gsTabHeading' + index" class="card-header" heightStyle="content" role="tab">
                <h5 class="mb-0">
                  <a class="collapsed" data-toggle="collapse" data-parent="#goalStepAccordion" [href]="'#gsCollapse' + index" aria-expanded="false"
                    [attr.aria-controls]="'gsCollapse' + index">
                    {{'Click to expand ' + goalStep.goalExpression}}
                  </a>
                </h5>
              </div>

              <div *ngIf="index == 0" [id]="'gsCollapse' + index" class="collapse show" role="tabpanel" [attr.aria-labelledby]="'gsTabHeading' + index">
                <div class="card-block">
                  <form>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required for="'gsSequence' + index">
                        Sequence
                      </label>
                      <input type="number" class="col-md-12 col-sm-12 col-xs-12 form-control" [id]="'gsSequence' + index" placeholder="Sequence"
                        min="0" onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                        [(ngModel)]="goalStep.sequence" name="sequence" />
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsGoalExpression' + index">
                        Expression
                      </label>
                      <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" required [id]="'gsGoalExpression' + index" placeholder="Expression"
                        [(ngModel)]="goalStep.goalExpression" name="goalExpression" />
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsApi' + index">
                        API
                      </label>
                      <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" required [id]="'gsApi' + index" placeholder="API" [(ngModel)]="goalStep.api"
                        name="api" />
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsResponseExpression' + index">
                        Response Expression
                      </label>
                      <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" required [id]="'gsResponseExpression' + index" placeholder="Response Expression"
                        [(ngModel)]="goalStep.responseExpression" name="responseExpression" />
                    </div>
                    <div class="row">
                      <api-checkbox class="col-md-4" [checked]="goalStep.authRequired" [label]="'Auth Required'" (event)="goalStep.authRequired = $event.target.checked"></api-checkbox>
                      <api-checkbox class="col-md-4" [checked]="goalStep.mandatory" [label]="'Mandatory'" (event)="goalStep.mandatory = $event.target.checked"></api-checkbox>
                      <api-checkbox class="col-md-4" [checked]="goalStep.ignoreIntent" [label]="'Ignore Intent'" (event)="goalStep.ignoreIntent = $event.target.checked"></api-checkbox>
                    </div>
                    <div class="form-group">
                      <api-checkbox [checked]="goalStep.pickFromNoun" [label]="'Pick nouns from user input'" (event)="goalStep.pickFromNoun = $event.target.checked"></api-checkbox>
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsKey' + index">
                        Model Key
                      </label>
                      <!--<select class="selectpicker form-control" title="Select Model Keys" [(ngModel)]="goalStep.key" name="key">
                        <option *ngFor="let key of modelKeysSource" [ngValue]="key">{{key}}</option>
                      </select>-->
                      <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" [id]="'goalStepKey' + index" placeholder="Model key(Dont use any spaces)"
                        [(ngModel)]="goalStep.key" name="key" />
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsValidationTypes' + index">
                        Goal Validation Types
                      </label>
                      <select class="selectpicker form-control" multiple="true" title="Select Validation Type Keys" [(ngModel)]="goalStep.goalValidationTypes"
                        name="goalValidationTypes">
                        <option *ngFor="let key of validationKeysSource" [ngValue]="key">{{key}}</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsDependencyExpression' + index">
                        Dependency Expression
                      </label>
                      <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" required [id]="'gsDependencyExpression' + index" placeholder="Dependency Expression"
                        [(ngModel)]="goalStep.dependencyExpression" name="dependencyExpression" />
                    </div>
                    <div class="form-group">
                      <button type="button" class="btn btn-danger" (click)="deleteGoalStep(goalStep)">
                        Remove Goal Response
                      </button>
                    </div>
                  </form>

                  <div [id]="'gsLangAccordion' + index" role="tablist" aria-multiselectable="true" *ngIf="selectedDomain.langSupported.length > 0">
                    <div *ngFor="let language of selectedDomain.langSupported; let langIndex=index" class="panel">
                      <div class="card">
                        <div *ngIf="langIndex == 0" [id]="'gsLangTabHeading' + index + langIndex" class="card-header" heightStyle="content" role="tab">
                          <h5 class="mb-0">
                            <a data-toggle="collapse" [attr.data-parent]="'#gsLangAccordion' + index" [href]="'#gsLangCollapse' + index + langIndex"
                              aria-expanded="true" [attr.aria-controls]="'gsLangCollapse' + index + langIndex">
                              Responses for {{language}} language
                            </a>
                          </h5>
                        </div>
                        <div *ngIf="langIndex != 0" [id]="'gsLangTabHeading' + index + langIndex" class="card-header" heightStyle="content" role="tab">
                          <h5 class="mb-0">
                            <a class="collapsed" data-toggle="collapse" [attr.data-parent]="'#gsLangAccordion' + index" [href]="'#gsLangCollapse' + index + langIndex"
                              aria-expanded="false" [attr.aria-controls]="'gsLangCollapse' + index + langIndex">
                              Responses for {{language}} language
                            </a>
                          </h5>
                        </div>
                        <div *ngIf="langIndex == 0" [id]="'gsLangCollapse' + index + langIndex" class="collapse show" role="tabpanel" [attr.aria-labelledby]="'gsLangTabHeading' + index + langIndex">
                          <div class="card-block">
                            <div [id]="'gsRespAccordion' + index + langIndex" role="tablist" aria-multiselectable="true" *ngIf="goalStep.responses && goalStep.responses.length > 0">
                              <div *ngFor="let gsResponse of getLangSpecificResponses(goalStep.responses, language); let respIndex=index" class="panel">
                                <div class="card">
                                  <div *ngIf="respIndex == 0" [id]="'gsRespTabHeading' + index + langIndex + respIndex" class="card-header" heightStyle="content"
                                    role="tab">
                                    <h5 class="mb-0">
                                      <a data-toggle="collapse" [attr.data-parent]="'#gsRespAccordion' + index + langIndex" [href]="'#gsRespCollapse' + index + langIndex + respIndex"
                                        aria-expanded="true" [attr.aria-controls]="'gsRespCollapse' + index + langIndex + respIndex">
                                        {{gsResponse.response ? gsResponse.response : "(Emtpy Response)"}}
                                      </a>
                                    </h5>
                                  </div>
                                  <div *ngIf="respIndex != 0" [id]="'gsRespTabHeading' + index + langIndex + respIndex" class="card-header" heightStyle="content"
                                    role="tab">
                                    <h5 class="mb-0">
                                      <a class="collapsed" data-toggle="collapse" [attr.data-parent]="'#gsRespAccordion' + index + langIndex" [href]="'#gsRespCollapse' + index + langIndex + respIndex"
                                        aria-expanded="false" [attr.aria-controls]="'gsRespCollapse' + index + langIndex + respIndex">
                                        {{gsResponse.response ? gsResponse.response : "(Emtpy Response)"}}
                                      </a>
                                    </h5>
                                  </div>
                                  <div *ngIf="respIndex == 0" [id]="'gsRespCollapse' + index + langIndex + respIndex" class="collapse show" role="tabpanel"
                                    [attr.aria-labelledby]="'gsLangTabHeading' + respIndex">
                                    <div class="card-block">
                                      <form>
                                        <div class="form-group">
                                          <label>Sequence</label>
                                          <input type="number" class="form-control" placeholder="Sequence" [(ngModel)]="gsResponse.sequence" name="sequence" min="0"
                                            onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Stage</label>
                                          <select class="selectpicker form-control" title="Choose Stage" [(ngModel)]="gsResponse.stage" name="stage">
                                            <option *ngFor="let stage of stagesSource" [value]="stage.value">{{stage.label}}</option>
                                          </select>
                                        </div>
                                        <div class="form-group">
                                          <label>Response</label>
                                          <input class="form-control" placeholder="Response" [(ngModel)]="gsResponse.response" name="response" />
                                        </div>
                                        <div class="form-group">
                                          <label>Context Expression</label>
                                          <input class="form-control" placeholder="Context Expression" [(ngModel)]="gsResponse.contextExpression" name="contextExpression"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Action HTML</label>
                                          <textarea class="form-control" placeholder="Action HTML" [(ngModel)]="gsResponse.actionHTML" name="actionHTML"></textarea>
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.disableUserInput" [label]="'Disable User Input'" (event)="gsResponse.disableUserInput = $event.target.checked"></api-checkbox>
                                        </div>
                                        <!--Response settings start-->
                                        <div class="form-group">
                                          <label>Mask</label>
                                          <input class="form-control" placeholder="Mask" [(ngModel)]="gsResponse.settings.mask" name="mask" />
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.settings.secured" [label]="'Secured'" (event)="gsResponse.settings.secured = $event.target.checked"></api-checkbox>
                                        </div>
                                        <div class="form-group">
                                          <label>Validation Regular Expression</label>
                                          <input class="form-control" placeholder="Validation Regex" [(ngModel)]="gsResponse.settings.validationRegex" name="validationRegex"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Error Message On Validation Failed</label>
                                          <input class="form-control" placeholder="Error Message" [(ngModel)]="gsResponse.settings.errorMessage" name="errorMessage"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Placeholder</label>
                                          <input class="form-control" placeholder="Placeholder" [(ngModel)]="gsResponse.settings.placeholder" name="placeholder" />
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.settings.enableDatePicker" [label]="'Enable Date Picker'" (event)="gsResponse.settings.enableDatePicker = $event.target.checked"></api-checkbox>
                                        </div>
                                        <!--Response settings end-->

                                        <div class="form-group">
                                          <label>Response Selection Expression</label>
                                          <input class="form-control" placeholder="Response Selection Expression" [(ngModel)]="gsResponse.selectionExpression" name="selectionExpression"
                                          />
                                        </div>

                                        <div class="form-group">
                                          <label>Response options</label>
                                          <table class="table table-striped">
                                            <thead>
                                              <tr>
                                                <th>Input type</th>
                                                <th>URL</th>
                                                <th>Options</th>
                                                <th>
                                                  <button type="button" class="btn btn-primary" (click)="onAddResponseOption(gsResponse)">
                                                    <i class="ion-plus-round"></i>
                                                  </button>
                                                </th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                              <tr *ngFor="let option of gsResponse.options">
                                                <td>
                                                  <select class="selectpicker form-control" name="type" id="type" [(ngModel)]="option.type">
                                                    <option value="">Choose One</option>
                                                    <option value="BUTTON">Button</option>
                                                    <option value="CHECKBOX">Checkbox</option>
                                                    <option value="RADIO">Radio</option>
                                                    <option value="FILE_UPLOAD">File Upload</option>
                                                    <option value="OFFERED_DOCUMENT">Offering</option>
                                                    <option value="CARD">Card</option>
                                                    <option value="DROPDOWN">Dropdown</option>
                                                  </select>
                                                </td>
                                                <td>
                                                  <input type="text" class="form-control" placeholder="URL" [(ngModel)]="option.url" name="url">
                                                </td>
                                                <td *ngIf="option.type != 'CARD' && option.type != 'OFFERED_DOCUMENT'">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>Value</th>
                                                        <th>Label</th>
                                                        <th>URL</th>
                                                        <th>Language</th>
                                                        <th>Agent ID</th>
                                                        <th>
                                                          <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                            <i class="ion-plus-round"></i>
                                                          </button>
                                                        </th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let row of option.data">
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Value" [value]="row.value" (input)="row.value = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Language" [value]="row.language" (input)="row.language = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Agent ID" [value]="row.agentId" (input)="row.agentId = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                            <i class="ion-ios-trash"></i>
                                                          </button>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </td>
                                                <td *ngIf="option.type === 'CARD'">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>card</th>
                                                        <!-- <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddCardData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th> -->
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                        <td>
                                                          <select class="selectpicker form-control" id="selectStatus" title="Choose card" [(ngModel)]="option.cardData" name="cardData"
                                                            multiple="true">
                                                            <option *ngFor="let cardData of selectedDomain.cards" [ngValue]="cardData.cardName">{{ cardData.cardName }}</option>
                                                          </select>
                                                        </td>
                                                        <!-- <td>
                                                            <button type="button" class="btn btn-danger" (click)="deleteCardData(option.cardData,rowCard)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td> -->
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </td>

                                                <!--  adding metadata of offered document -->
                                                <td *ngIf="option.type == 'OFFERED_DOCUMENT'">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>Label</th>
                                                        <th>URL</th>
                                                        <th>File Size</th>
                                                        <th>File Type</th>
                                                        <th>File Reference</th>

                                                        <th>
                                                          <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                            <i class="ion-plus-round"></i>
                                                          </button>
                                                        </th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let row of option.data">
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Size" [value]="row.fileSize" (input)="row.fileSize = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="File Type" [value]="row.fileType" (input)="row.fileType = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="File Reference" [value]="row.fileReference" (input)="row.fileReference = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                            <i class="ion-ios-trash"></i>
                                                          </button>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </td>

                                                <td>
                                                  <button type="button" class="btn btn-danger" (click)="delete(gsResponse.options, option)">
                                                    <i class="ion-ios-trash"></i>
                                                  </button>
                                                </td>
                                              </tr>
                                            </tbody>
                                          </table>
                                        </div>
                                        <button type="button" class="btn btn-danger" (click)="deleteGoalStepResponse(goalStep, gsResponse)">
                                          Remove Response
                                        </button>
                                      </form>
                                    </div>
                                  </div>
                                  <div *ngIf="respIndex != 0" [id]="'gsRespCollapse' + index + langIndex + respIndex" class="collapse" role="tabpanel" [attr.aria-labelledby]="'gsLangTabHeading' + respIndex">
                                    <div class="card-block">
                                      <div class="card-block">
                                        <form>
                                          <div class="form-group">
                                            <label>Sequence</label>
                                            <input type="number" class="form-control" placeholder="Sequence" [(ngModel)]="gsResponse.sequence" name="sequence" min="0"
                                              onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Stage</label>
                                            <select class="selectpicker form-control" title="Choose Stage" [(ngModel)]="gsResponse.stage" name="stage">
                                              <option *ngFor="let stage of stagesSource" [value]="stage.value">{{stage.label}}</option>
                                            </select>
                                          </div>
                                          <div class="form-group">
                                            <label>Response</label>
                                            <input class="form-control" placeholder="Response" [(ngModel)]="gsResponse.response" name="response" />
                                          </div>
                                          <div class="form-group">
                                            <label>Context Expression</label>
                                            <input class="form-control" placeholder="Context Expression" [(ngModel)]="gsResponse.contextExpression" name="contextExpression"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Action HTML</label>
                                            <textarea class="form-control" placeholder="Action HTML" [(ngModel)]="gsResponse.actionHTML" name="actionHTML"></textarea>
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.disableUserInput" [label]="'Disable User Input'" (event)="gsResponse.disableUserInput = $event.target.checked"></api-checkbox>
                                          </div>
                                          <!--Response settings start-->
                                          <div class="form-group">
                                            <label>Mask</label>
                                            <input class="form-control" placeholder="Mask" [(ngModel)]="gsResponse.settings.mask" name="mask" />
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.settings.secured" [label]="'Secured'" (event)="gsResponse.settings.secured = $event.target.checked"></api-checkbox>
                                          </div>
                                          <div class="form-group">
                                            <label>Validation Regular Expression</label>
                                            <input class="form-control" placeholder="Validation Regex" [(ngModel)]="gsResponse.settings.validationRegex" name="validationRegex"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Error Message On Validation Failed</label>
                                            <input class="form-control" placeholder="Error Message" [(ngModel)]="gsResponse.settings.errorMessage" name="errorMessage"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Placeholder</label>
                                            <input class="form-control" placeholder="Placeholder" [(ngModel)]="gsResponse.settings.placeholder" name="placeholder" />
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.settings.enableDatePicker" [label]="'Enable Date Picker'" (event)="gsResponse.settings.enableDatePicker = $event.target.checked"></api-checkbox>
                                          </div>
                                          <!--Response settings end-->

                                          <div class="form-group">
                                            <label>Response Selection Expression</label>
                                            <input class="form-control" placeholder="Response Selection Expression" [(ngModel)]="gsResponse.selectionExpression" name="selectionExpression"
                                            />
                                          </div>

                                          <div class="form-group">
                                            <label>Response options</label>
                                            <table class="table table-striped">
                                              <thead>
                                                <tr>
                                                  <th>Input type</th>
                                                  <th>URL</th>
                                                  <th>Options</th>
                                                  <th>
                                                    <button type="button" class="btn btn-primary" (click)="onAddResponseOption(gsResponse)">
                                                      <i class="ion-plus-round"></i>
                                                    </button>
                                                  </th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                                <tr *ngFor="let option of gsResponse.options">
                                                  <td>
                                                    <select class="selectpicker form-control" name="type" id="type" [(ngModel)]="option.type">
                                                      <option value="">Choose One</option>
                                                      <option value="BUTTON">Button</option>
                                                      <option value="CHECKBOX">Checkbox</option>
                                                      <option value="RADIO">Radio</option>
                                                      <option value="FILE_UPLOAD">File Upload</option>
                                                      <option value="OFFERED_DOCUMENT">Offering</option>
                                                      <option value="CARD">Card</option>
                                                      <option value="DROPDOWN">Dropdown</option>
                                                    </select>
                                                  </td>
                                                  <td>
                                                    <input type="text" class="form-control" placeholder="URL" [(ngModel)]="option.url" name="url">
                                                  </td>
                                                  <td *ngIf="option.type != 'CARD' && option.type != 'OFFERED_DOCUMENT' ">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>Value</th>
                                                          <th>Label</th>
                                                          <th>URL</th>
                                                          <th>Language</th>
                                                          <th>Agent ID</th>
                                                          <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th>
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr *ngFor="let row of option.data">
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Value" [value]="row.value" (input)="row.value = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Language" [value]="row.language" (input)="row.language = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Agent ID" [value]="row.agentId" (input)="row.agentId = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                  </td>
                                                  <td *ngIf="option.type === 'CARD'">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>card</th>
                                                          <!-- <th>
                                                              <button type="button" class="btn btn-primary" (click)="onAddCardData(option)">
                                                                <i class="ion-plus-round"></i>
                                                              </button>
                                                            </th> -->
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr>
                                                          <td>
                                                            <select class="selectpicker form-control" id="selectStatus" title="Choose card" [(ngModel)]="option.cardData" name="cardData"
                                                              multiple="true">
                                                              <option *ngFor="let cardData of selectedDomain.cards" [ngValue]="cardData.cardName">{{ cardData.cardName }}</option>
                                                            </select>
                                                          </td>
                                                          <!-- <td>
                                                              <button type="button" class="btn btn-danger" (click)="deleteCardData(option.cardData,rowCard)">
                                                                <i class="ion-ios-trash"></i>
                                                              </button>
                                                            </td> -->
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                  </td>

                                                  <!--  adding metadata of offered document -->
                                                  <td *ngIf="option.type == 'OFFERED_DOCUMENT'">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>Label</th>
                                                          <th>URL</th>
                                                          <th>File Size</th>
                                                          <th>File Type</th>
                                                          <th>File Reference</th>

                                                          <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th>
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr *ngFor="let row of option.data">
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Size" [value]="row.fileSize" (input)="row.fileSize = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="File Type" [value]="row.fileType" (input)="row.fileType = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="File Reference" [value]="row.fileReference" (input)="row.fileReference = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                  </td>

                                                  <td>
                                                    <button type="button" class="btn btn-danger" (click)="delete(gsResponse.options, option)">
                                                      <i class="ion-ios-trash"></i>
                                                    </button>
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>
                                          </div>
                                          <button type="button" class="btn btn-danger" (click)="deleteGoalStepResponse(goalStep, gsResponse)">
                                            Remove Response
                                          </button>
                                        </form>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <form>
                              <button type="button" class="btn btn-success" (click)="addNewGoalStepResponse(goalStep, language)">Add Response
                              </button>
                            </form>
                          </div>
                        </div>
                        <div *ngIf="langIndex != 0" [id]="'gsLangCollapse' + index + langIndex" class="collapse" role="tabpanel" [attr.aria-labelledby]="'gsLangTabHeading' + index + langIndex">
                          <div class="card-block">
                            <div [id]="'gsRespAccordion' + index + langIndex" role="tablist" aria-multiselectable="true" *ngIf="goalStep.responses && goalStep.responses.length > 0">
                              <div *ngFor="let gsResponse of getLangSpecificResponses(goalStep.responses, language); let respIndex=index" class="panel">
                                <div class="card">
                                  <div *ngIf="respIndex == 0" [id]="'gsRespTabHeading' + index + langIndex + respIndex" class="card-header" heightStyle="content"
                                    role="tab">
                                    <h5 class="mb-0">
                                      <a data-toggle="collapse" [attr.data-parent]="'#gsRespAccordion' + index + langIndex" [href]="'#gsRespCollapse' + index + langIndex + respIndex"
                                        aria-expanded="true" [attr.aria-controls]="'gsRespCollapse' + index + langIndex + respIndex">
                                        {{gsResponse.response ? gsResponse.response : "(Emtpy Response)"}}
                                      </a>
                                    </h5>
                                  </div>
                                  <div *ngIf="respIndex != 0" [id]="'gsRespTabHeading' + index + langIndex + respIndex" class="card-header" heightStyle="content"
                                    role="tab">
                                    <h5 class="mb-0">
                                      <a class="collapsed" data-toggle="collapse" [attr.data-parent]="'#gsRespAccordion' + index + langIndex" [href]="'#gsRespCollapse' + index + langIndex + respIndex"
                                        aria-expanded="false" [attr.aria-controls]="'gsRespCollapse' + index + langIndex + respIndex">
                                        {{gsResponse.response ? gsResponse.response : "(Emtpy Response)"}}
                                      </a>
                                    </h5>
                                  </div>
                                  <div *ngIf="respIndex == 0" [id]="'gsRespCollapse' + index + langIndex + respIndex" class="collapse show" role="tabpanel"
                                    [attr.aria-labelledby]="'gsLangTabHeading' + respIndex">
                                    <div class="card-block">
                                      <form>
                                        <div class="form-group">
                                          <label>Sequence</label>
                                          <input type="number" class="form-control" placeholder="Sequence" [(ngModel)]="gsResponse.sequence" name="sequence" min="0"
                                            onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Stage</label>
                                          <select class="selectpicker form-control" title="Choose Stage" [(ngModel)]="gsResponse.stage" name="stage">
                                            <option *ngFor="let stage of stagesSource" [value]="stage.value">{{stage.label}}</option>
                                          </select>
                                        </div>
                                        <div class="form-group">
                                          <label>Response</label>
                                          <input class="form-control" placeholder="Response" [(ngModel)]="gsResponse.response" name="response" />
                                        </div>
                                        <div class="form-group">
                                          <label>Context Expression</label>
                                          <input class="form-control" placeholder="Context Expression" [(ngModel)]="gsResponse.contextExpression" name="contextExpression"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Action HTML</label>
                                          <textarea class="form-control" placeholder="Action HTML" [(ngModel)]="gsResponse.actionHTML" name="actionHTML"></textarea>
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.disableUserInput" [label]="'Disable User Input'" (event)="gsResponse.disableUserInput = $event.target.checked"></api-checkbox>
                                        </div>
                                        <!--Response settings start-->
                                        <div class="form-group">
                                          <label>Mask</label>
                                          <input class="form-control" placeholder="Mask" [(ngModel)]="gsResponse.settings.mask" name="mask" />
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.settings.secured" [label]="'Secured'" (event)="gsResponse.settings.secured = $event.target.checked"></api-checkbox>
                                        </div>
                                        <div class="form-group">
                                          <label>Validation Regular Expression</label>
                                          <input class="form-control" placeholder="Validation Regex" [(ngModel)]="gsResponse.settings.validationRegex" name="validationRegex"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Error Message On Validation Failed</label>
                                          <input class="form-control" placeholder="Error Message" [(ngModel)]="gsResponse.settings.errorMessage" name="errorMessage"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Placeholder</label>
                                          <input class="form-control" placeholder="Placeholder" [(ngModel)]="gsResponse.settings.placeholder" name="placeholder" />
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.settings.enableDatePicker" [label]="'Enable Date Picker'" (event)="gsResponse.settings.enableDatePicker = $event.target.checked"></api-checkbox>
                                        </div>
                                        <!--Response settings end-->

                                        <div class="form-group">
                                          <label>Response Selection Expression</label>
                                          <input class="form-control" placeholder="Response Selection Expression" [(ngModel)]="gsResponse.selectionExpression" name="selectionExpression"
                                          />
                                        </div>

                                        <div class="form-group">
                                          <label>Response options</label>
                                          <table class="table table-striped">
                                            <thead>
                                              <tr>
                                                <th>Input type</th>
                                                <th>URL</th>
                                                <th>Options</th>
                                                <th>
                                                  <button type="button" class="btn btn-primary" (click)="onAddResponseOption(gsResponse)">
                                                    <i class="ion-plus-round"></i>
                                                  </button>
                                                </th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                              <tr *ngFor="let option of gsResponse.options">
                                                <td>
                                                  <select class="selectpicker form-control" name="type" id="type" [(ngModel)]="option.type">
                                                    <option value="">Choose One</option>
                                                    <option value="BUTTON">Button</option>
                                                    <option value="CHECKBOX">Checkbox</option>
                                                    <option value="RADIO">Radio</option>
                                                    <option value="FILE_UPLOAD">File Upload</option>
                                                    <option value="OFFERED_DOCUMENT">Offering</option>
                                                    <option value="CARD">Card</option>
                                                    <option value="DROPDOWN">Dropdown</option>
                                                  </select>
                                                </td>
                                                <td>
                                                  <input type="text" class="form-control" placeholder="URL" [(ngModel)]="option.url" name="url">
                                                </td>
                                                <td *ngIf="option.type != 'CARD' && option.type != 'OFFERED_DOCUMENT' ">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>Value</th>
                                                        <th>Label</th>
                                                        <th>URL</th>
                                                        <th>Language</th>
                                                        <th>Agent ID</th>
                                                        <th>
                                                          <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                            <i class="ion-plus-round"></i>
                                                          </button>
                                                        </th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let row of option.data">
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Value" [value]="row.value" (input)="row.value = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Language" [value]="row.language" (input)="row.language = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Agent ID" [value]="row.agentId" (input)="row.agentId = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                            <i class="ion-ios-trash"></i>
                                                          </button>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </td>
                                                <td *ngIf="option.type === 'CARD'">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>card</th>
                                                        <!-- <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddCardData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th> -->
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                        <td>
                                                          <select class="selectpicker form-control" id="selectStatus" title="Choose card" [(ngModel)]="option.cardData" name="cardData"
                                                            multiple="true">
                                                            <option *ngFor="let cardData of selectedDomain.cards" [ngValue]="cardData.cardName">{{ cardData.cardName }}</option>
                                                          </select>
                                                        </td>
                                                        <!-- <td>
                                                            <button type="button" class="btn btn-danger" (click)="deleteCardData(option.cardData,rowCard)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td> -->
                                                      </tr>
                                                    </tbody>
                                                  </table>

                                                </td>

                                                <!--  adding metadata of offered document -->
                                                <td *ngIf="option.type == 'OFFERED_DOCUMENT'">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>Label</th>
                                                        <th>URL</th>
                                                        <th>File Size</th>
                                                        <th>File Type</th>
                                                        <th>File Reference</th>

                                                        <th>
                                                          <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                            <i class="ion-plus-round"></i>
                                                          </button>
                                                        </th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let row of option.data">
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Size" [value]="row.fileSize" (input)="row.fileSize = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="File Type" [value]="row.fileType" (input)="row.fileType = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="File Reference" [value]="row.fileReference" (input)="row.fileReference = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                            <i class="ion-ios-trash"></i>
                                                          </button>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </td>

                                                <td>
                                                  <button type="button" class="btn btn-danger" (click)="delete(gsResponse.options, option)">
                                                    <i class="ion-ios-trash"></i>
                                                  </button>
                                                </td>
                                              </tr>
                                            </tbody>
                                          </table>
                                        </div>
                                        <button type="button" class="btn btn-danger" (click)="deleteGoalStepResponse(goalStep, gsResponse)">
                                          Remove Response
                                        </button>
                                      </form>
                                    </div>
                                  </div>
                                  <div *ngIf="respIndex != 0" [id]="'gsRespCollapse' + index + langIndex + respIndex" class="collapse" role="tabpanel" [attr.aria-labelledby]="'gsLangTabHeading' + respIndex">
                                    <div class="card-block">
                                      <div class="card-block">
                                        <form>
                                          <div class="form-group">
                                            <label>Sequence</label>
                                            <input type="number" class="form-control" placeholder="Sequence" [(ngModel)]="gsResponse.sequence" name="sequence" min="0"
                                              onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Stage</label>
                                            <select class="selectpicker form-control" title="Choose Stage" [(ngModel)]="gsResponse.stage" name="stage">
                                              <option *ngFor="let stage of stagesSource" [value]="stage.value">{{stage.label}}</option>
                                            </select>
                                          </div>
                                          <div class="form-group">
                                            <label>Response</label>
                                            <input class="form-control" placeholder="Response" [(ngModel)]="gsResponse.response" name="response" />
                                          </div>
                                          <div class="form-group">
                                            <label>Context Expression</label>
                                            <input class="form-control" placeholder="Context Expression" [(ngModel)]="gsResponse.contextExpression" name="contextExpression"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Action HTML</label>
                                            <textarea class="form-control" placeholder="Action HTML" [(ngModel)]="gsResponse.actionHTML" name="actionHTML"></textarea>
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.disableUserInput" [label]="'Disable User Input'" (event)="gsResponse.disableUserInput = $event.target.checked"></api-checkbox>
                                          </div>
                                          <!--Response settings start-->
                                          <div class="form-group">
                                            <label>Mask</label>
                                            <input class="form-control" placeholder="Mask" [(ngModel)]="gsResponse.settings.mask" name="mask" />
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.settings.secured" [label]="'Secured'" (event)="gsResponse.settings.secured = $event.target.checked"></api-checkbox>
                                          </div>
                                          <div class="form-group">
                                            <label>Validation Regular Expression</label>
                                            <input class="form-control" placeholder="Validation Regex" [(ngModel)]="gsResponse.settings.validationRegex" name="validationRegex"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Error Message On Validation Failed</label>
                                            <input class="form-control" placeholder="Error Message" [(ngModel)]="gsResponse.settings.errorMessage" name="errorMessage"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Placeholder</label>
                                            <input class="form-control" placeholder="Placeholder" [(ngModel)]="gsResponse.settings.placeholder" name="placeholder" />
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.settings.enableDatePicker" [label]="'Enable Date Picker'" (event)="gsResponse.settings.enableDatePicker = $event.target.checked"></api-checkbox>
                                          </div>
                                          <!--Response settings end-->

                                          <div class="form-group">
                                            <label>Response Selection Expression</label>
                                            <input class="form-control" placeholder="Response Selection Expression" [(ngModel)]="gsResponse.selectionExpression" name="selectionExpression"
                                            />
                                          </div>

                                          <div class="form-group">
                                            <label>Response options</label>
                                            <table class="table table-striped">
                                              <thead>
                                                <tr>
                                                  <th>Input type</th>
                                                  <th>URL</th>
                                                  <th>Options</th>
                                                  <th>
                                                    <button type="button" class="btn btn-primary" (click)="onAddResponseOption(gsResponse)">
                                                      <i class="ion-plus-round"></i>
                                                    </button>
                                                  </th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                                <tr *ngFor="let option of gsResponse.options">
                                                  <td>
                                                    <select class="selectpicker form-control" name="type" id="type" [(ngModel)]="option.type">
                                                      <option value="">Choose One</option>
                                                      <option value="BUTTON">Button</option>
                                                      <option value="CHECKBOX">Checkbox</option>
                                                      <option value="RADIO">Radio</option>
                                                      <option value="FILE_UPLOAD">File Upload</option>
                                                      <option value="OFFERED_DOCUMENT">Offering</option>
                                                      <option value="CARD">Card</option>
                                                      <option value="DROPDOWN">Dropdown</option>
                                                    </select>
                                                  </td>
                                                  <td>
                                                    <input type="text" class="form-control" placeholder="URL" [(ngModel)]="option.url" name="url">
                                                  </td>
                                                  <td *ngIf="option.type != 'CARD' && option.type != 'OFFERED_DOCUMENT' ">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>Value</th>
                                                          <th>Label</th>
                                                          <th>URL</th>
                                                          <th>Language</th>
                                                          <th>Agent ID</th>
                                                          <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th>
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr *ngFor="let row of option.data">
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Value" [value]="row.value" (input)="row.value = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Language" [value]="row.language" (input)="row.language = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Agent ID" [value]="row.agentId" (input)="row.agentId = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                  </td>
                                                  <td *ngIf="option.type === 'CARD'">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>card</th>
                                                          <!-- <th>
                                                              <button type="button" class="btn btn-primary" (click)="onAddCardData(option)">
                                                                <i class="ion-plus-round"></i>
                                                              </button>
                                                            </th> -->
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr>
                                                          <td>
                                                            <select class="selectpicker form-control" id="selectStatus" title="Choose card" [(ngModel)]="option.cardData" name="cardData"
                                                              multiple="true">
                                                              <option *ngFor="let cardData of selectedDomain.cards" [ngValue]="cardData.cardName">{{ cardData.cardName }}</option>
                                                            </select>
                                                          </td>
                                                          <!-- <td>
                                                              <button type="button" class="btn btn-danger" (click)="deleteCardData(option.cardData,rowCard)">
                                                                <i class="ion-ios-trash"></i>
                                                              </button>
                                                            </td> -->
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                  </td>

                                                  <!--  adding metadata of offered document -->
                                                  <td *ngIf="option.type == 'OFFERED_DOCUMENT'">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>Label</th>
                                                          <th>URL</th>
                                                          <th>File Size</th>
                                                          <th>File Type</th>
                                                          <th>File Reference</th>

                                                          <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th>
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr *ngFor="let row of option.data">
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Size" [value]="row.fileSize" (input)="row.fileSize = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="File Type" [value]="row.fileType" (input)="row.fileType = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="File Reference" [value]="row.fileReference" (input)="row.fileReference = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                  </td>

                                                  <td>
                                                    <button type="button" class="btn btn-danger" (click)="delete(gsResponse.options, option)">
                                                      <i class="ion-ios-trash"></i>
                                                    </button>
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>
                                          </div>
                                          <button type="button" class="btn btn-danger" (click)="deleteGoalStepResponse(goalStep, gsResponse)">
                                            Remove Response
                                          </button>
                                        </form>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <form>
                              <button type="button" class="btn btn-success" (click)="addNewGoalStepResponse(goalStep, language)">Add Response
                              </button>
                            </form>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="index != 0" [id]="'gsCollapse' + index" class="collapse" role="tabpanel" [attr.aria-labelledby]="'gsTabHeading' + index">
                <div class="card-block">
                  <form>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required for="'gsSequence' + index">
                        Sequence
                      </label>
                      <input type="number" class="col-md-12 col-sm-12 col-xs-12 form-control" [id]="'gsSequence' + index" placeholder="Sequence"
                        min="0" onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                        [(ngModel)]="goalStep.sequence" name="sequence" />
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsGoalExpression' + index">
                        Expression
                      </label>
                      <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" required [id]="'gsGoalExpression' + index" placeholder="Expression"
                        [(ngModel)]="goalStep.goalExpression" name="goalExpression" />
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsApi' + index">
                        API
                      </label>
                      <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" required [id]="'gsApi' + index" placeholder="API" [(ngModel)]="goalStep.api"
                        name="api" />
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsResponseExpression' + index">
                        Response Expression
                      </label>
                      <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" required [id]="'gsResponseExpression' + index" placeholder="Response Expression"
                        [(ngModel)]="goalStep.responseExpression" name="responseExpression" />
                    </div>
                    <div class="row">
                      <api-checkbox class="col-md-4" [checked]="goalStep.authRequired" [label]="'Auth Required'" (event)="goalStep.authRequired = $event.target.checked"></api-checkbox>
                      <api-checkbox class="col-md-4" [checked]="goalStep.mandatory" [label]="'Mandatory'" (event)="goalStep.mandatory = $event.target.checked"></api-checkbox>
                      <api-checkbox class="col-md-4" [checked]="goalStep.ignoreIntent" [label]="'Ignore Intent'" (event)="goalStep.ignoreIntent = $event.target.checked"></api-checkbox>
                    </div>
                    <div class="form-group">
                      <api-checkbox [checked]="goalStep.pickFromNoun" [label]="'Pick nouns from user input'" (event)="goalStep.pickFromNoun = $event.target.checked"></api-checkbox>
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsKey' + index">
                        Model Key
                      </label>
                      <!-- <select class="selectpicker form-control" title="Select Model Keys" [(ngModel)]="goalStep.key" name="key">
                        <option *ngFor="let key of modelKeysSource" [ngValue]="key">{{key}}</option>
                      </select> -->
                      <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" [id]="'goalStepKey' + index" placeholder="Model key(Dont use any spaces)"
                        [(ngModel)]="goalStep.key" name="key" />
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsValidationTypes' + index">
                        Goal Validation Types
                      </label>
                      <select class="selectpicker form-control" multiple="true" title="Select Validation Type Keys" [(ngModel)]="goalStep.goalValidationTypes"
                        name="goalValidationTypes">
                        <option *ngFor="let key of validationKeysSource" [ngValue]="key">{{key}}</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'gsDependencyExpression' + index">
                        Dependency Expression
                      </label>
                      <input type="text" class="col-md-12 col-sm-12 col-xs-12 form-control" required [id]="'gsDependencyExpression' + index" placeholder="Dependency Expression"
                        [(ngModel)]="goalStep.dependencyExpression" name="dependencyExpression" />
                    </div>
                    <div class="form-group">
                      <button type="button" class="btn btn-danger" (click)="deleteGoalStep(goalStep)">
                        Remove Goal Response
                      </button>
                    </div>
                  </form>

                  <div [id]="'gsLangAccordion' + index" role="tablist" aria-multiselectable="true" *ngIf="selectedDomain.langSupported.length > 0">
                    <div *ngFor="let language of selectedDomain.langSupported; let langIndex=index" class="panel">
                      <div class="card">
                        <div *ngIf="langIndex == 0" [id]="'gsLangTabHeading' + index + langIndex" class="card-header" heightStyle="content" role="tab">
                          <h5 class="mb-0">
                            <a data-toggle="collapse" [attr.data-parent]="'#gsLangAccordion' + index" [href]="'#gsLangCollapse' + index + langIndex"
                              aria-expanded="true" [attr.aria-controls]="'gsLangCollapse' + index + langIndex">
                              Responses for {{language}} language
                            </a>
                          </h5>
                        </div>
                        <div *ngIf="langIndex != 0" [id]="'gsLangTabHeading' + index + langIndex" class="card-header" heightStyle="content" role="tab">
                          <h5 class="mb-0">
                            <a class="collapsed" data-toggle="collapse" [attr.data-parent]="'#gsLangAccordion' + index" [href]="'#gsLangCollapse' + index + langIndex"
                              aria-expanded="false" [attr.aria-controls]="'gsLangCollapse' + index + langIndex">
                              Responses for {{language}} language
                            </a>
                          </h5>
                        </div>
                        <div *ngIf="langIndex == 0" [id]="'gsLangCollapse' + index + langIndex" class="collapse show" role="tabpanel" [attr.aria-labelledby]="'gsLangTabHeading' + index + langIndex">
                          <div class="card-block">
                            <div [id]="'gsRespAccordion' + index + langIndex" role="tablist" aria-multiselectable="true" *ngIf="goalStep.responses && goalStep.responses.length > 0">
                              <div *ngFor="let gsResponse of getLangSpecificResponses(goalStep.responses, language); let respIndex=index" class="panel">
                                <div class="card">
                                  <div *ngIf="respIndex == 0" [id]="'gsRespTabHeading' + index + langIndex + respIndex" class="card-header" heightStyle="content"
                                    role="tab">
                                    <h5 class="mb-0">
                                      <a data-toggle="collapse" [attr.data-parent]="'#gsRespAccordion' + index + langIndex" [href]="'#gsRespCollapse' + index + langIndex + respIndex"
                                        aria-expanded="true" [attr.aria-controls]="'gsRespCollapse' + index + langIndex + respIndex">
                                        {{gsResponse.response ? gsResponse.response : "(Emtpy Response)"}}
                                      </a>
                                    </h5>
                                  </div>
                                  <div *ngIf="respIndex != 0" [id]="'gsRespTabHeading' + index + langIndex + respIndex" class="card-header" heightStyle="content"
                                    role="tab">
                                    <h5 class="mb-0">
                                      <a class="collapsed" data-toggle="collapse" [attr.data-parent]="'#gsRespAccordion' + index + langIndex" [href]="'#gsRespCollapse' + index + langIndex + respIndex"
                                        aria-expanded="false" [attr.aria-controls]="'gsRespCollapse' + index + langIndex + respIndex">
                                        {{gsResponse.response ? gsResponse.response : "(Emtpy Response)"}}
                                      </a>
                                    </h5>
                                  </div>
                                  <div *ngIf="respIndex == 0" [id]="'gsRespCollapse' + index + langIndex + respIndex" class="collapse show" role="tabpanel"
                                    [attr.aria-labelledby]="'gsLangTabHeading' + respIndex">
                                    <div class="card-block">
                                      <form>
                                        <div class="form-group">
                                          <label>Sequence</label>
                                          <input type="number" class="form-control" placeholder="Sequence" [(ngModel)]="gsResponse.sequence" name="sequence" min="0"
                                            onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Stage</label>
                                          <select class="selectpicker form-control" title="Choose Stage" [(ngModel)]="gsResponse.stage" name="stage">
                                            <option *ngFor="let stage of stagesSource" [value]="stage.value">{{stage.label}}</option>
                                          </select>
                                        </div>
                                        <div class="form-group">
                                          <label>Response</label>
                                          <input class="form-control" placeholder="Response" [(ngModel)]="gsResponse.response" name="response" />
                                        </div>
                                        <div class="form-group">
                                          <label>Context Expression</label>
                                          <input class="form-control" placeholder="Context Expression" [(ngModel)]="gsResponse.contextExpression" name="contextExpression"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Action HTML</label>
                                          <textarea class="form-control" placeholder="Action HTML" [(ngModel)]="gsResponse.actionHTML" name="actionHTML"></textarea>
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.disableUserInput" [label]="'Disable User Input'" (event)="gsResponse.disableUserInput = $event.target.checked"></api-checkbox>
                                        </div>
                                        <!--Response settings start-->
                                        <div class="form-group">
                                          <label>Mask</label>
                                          <input class="form-control" placeholder="Mask" [(ngModel)]="gsResponse.settings.mask" name="mask" />
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.settings.secured" [label]="'Secured'" (event)="gsResponse.settings.secured = $event.target.checked"></api-checkbox>
                                        </div>
                                        <div class="form-group">
                                          <label>Validation Regular Expression</label>
                                          <input class="form-control" placeholder="Validation Regex" [(ngModel)]="gsResponse.settings.validationRegex" name="validationRegex"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Error Message On Validation Failed</label>
                                          <input class="form-control" placeholder="Error Message" [(ngModel)]="gsResponse.settings.errorMessage" name="errorMessage"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Placeholder</label>
                                          <input class="form-control" placeholder="Placeholder" [(ngModel)]="gsResponse.settings.placeholder" name="placeholder" />
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.settings.enableDatePicker" [label]="'Enable Date Picker'" (event)="gsResponse.settings.enableDatePicker = $event.target.checked"></api-checkbox>
                                        </div>
                                        <!--Response settings end-->

                                        <div class="form-group">
                                          <label>Response Selection Expression</label>
                                          <input class="form-control" placeholder="Response Selection Expression" [(ngModel)]="gsResponse.selectionExpression" name="selectionExpression"
                                          />
                                        </div>

                                        <div class="form-group">
                                          <label>Response options</label>
                                          <table class="table table-striped">
                                            <thead>
                                              <tr>
                                                <th>Input type</th>
                                                <th>URL</th>
                                                <th>Options</th>
                                                <th>
                                                  <button type="button" class="btn btn-primary" (click)="onAddResponseOption(gsResponse)">
                                                    <i class="ion-plus-round"></i>
                                                  </button>
                                                </th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                              <tr *ngFor="let option of gsResponse.options">
                                                <td>
                                                  <select class="selectpicker form-control" name="type" id="type" [(ngModel)]="option.type">
                                                    <option value="">Choose One</option>
                                                    <option value="BUTTON">Button</option>
                                                    <option value="CHECKBOX">Checkbox</option>
                                                    <option value="RADIO">Radio</option>
                                                    <option value="FILE_UPLOAD">File Upload</option>
                                                    <option value="OFFERED_DOCUMENT">Offering</option>
                                                    <option value="CARD">Card</option>
                                                    <option value="DROPDOWN">Dropdown</option>
                                                  </select>
                                                </td>
                                                <td>
                                                  <input type="text" class="form-control" placeholder="URL" [(ngModel)]="option.url" name="url">
                                                </td>
                                                <td *ngIf="option.type != 'CARD' && option.type != 'OFFERED_DOCUMENT' ">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>Value</th>
                                                        <th>Label</th>
                                                        <th>URL</th>
                                                        <th>Language</th>
                                                        <th>Agent ID</th>
                                                        <th>
                                                          <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                            <i class="ion-plus-round"></i>
                                                          </button>
                                                        </th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let row of option.data">
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Value" [value]="row.value" (input)="row.value = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Language" [value]="row.language" (input)="row.language = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Agent ID" [value]="row.agentId" (input)="row.agentId = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                            <i class="ion-ios-trash"></i>
                                                          </button>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </td>
                                                <td *ngIf="option.type === 'CARD'">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>card</th>
                                                        <!-- <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddCardData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th> -->
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                        <td>
                                                          <select class="selectpicker form-control" id="selectStatus" title="Choose card" [(ngModel)]="option.cardData" name="cardData"
                                                            multiple="true">
                                                            <option *ngFor="let cardData of selectedDomain.cards" [ngValue]="cardData.cardName">{{ cardData.cardName }}</option>
                                                          </select>
                                                        </td>
                                                        <!-- <td>
                                                            <button type="button" class="btn btn-danger" (click)="deleteCardData(option.cardData,rowCard)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td> -->
                                                      </tr>
                                                    </tbody>
                                                  </table>

                                                </td>

                                                <!--  adding metadata of offered document -->
                                                <td *ngIf="option.type == 'OFFERED_DOCUMENT'">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>Label</th>
                                                        <th>URL</th>
                                                        <th>File Size</th>
                                                        <th>File Type</th>
                                                        <th>File Reference</th>

                                                        <th>
                                                          <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                            <i class="ion-plus-round"></i>
                                                          </button>
                                                        </th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let row of option.data">
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Size" [value]="row.fileSize" (input)="row.fileSize = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="File Type" [value]="row.fileType" (input)="row.fileType = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="File Reference" [value]="row.fileReference" (input)="row.fileReference = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                            <i class="ion-ios-trash"></i>
                                                          </button>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </td>


                                                <td>
                                                  <button type="button" class="btn btn-danger" (click)="delete(gsResponse.options, option)">
                                                    <i class="ion-ios-trash"></i>
                                                  </button>
                                                </td>
                                              </tr>
                                            </tbody>
                                          </table>
                                        </div>
                                        <button type="button" class="btn btn-danger" (click)="deleteGoalStepResponse(goalStep, gsResponse)">
                                          Remove Response
                                        </button>
                                      </form>
                                    </div>
                                  </div>
                                  <div *ngIf="respIndex != 0" [id]="'gsRespCollapse' + index + langIndex + respIndex" class="collapse" role="tabpanel" [attr.aria-labelledby]="'gsLangTabHeading' + respIndex">
                                    <div class="card-block">
                                      <div class="card-block">
                                        <form>
                                          <div class="form-group">
                                            <label>Sequence</label>
                                            <input type="number" class="form-control" placeholder="Sequence" [(ngModel)]="gsResponse.sequence" name="sequence" min="0"
                                              onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Stage</label>
                                            <select class="selectpicker form-control" title="Choose Stage" [(ngModel)]="gsResponse.stage" name="stage">
                                              <option *ngFor="let stage of stagesSource" [value]="stage.value">{{stage.label}}</option>
                                            </select>
                                          </div>
                                          <div class="form-group">
                                            <label>Response</label>
                                            <input class="form-control" placeholder="Response" [(ngModel)]="gsResponse.response" name="response" />
                                          </div>
                                          <div class="form-group">
                                            <label>Context Expression</label>
                                            <input class="form-control" placeholder="Context Expression" [(ngModel)]="gsResponse.contextExpression" name="contextExpression"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Action HTML</label>
                                            <textarea class="form-control" placeholder="Action HTML" [(ngModel)]="gsResponse.actionHTML" name="actionHTML"></textarea>
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.disableUserInput" [label]="'Disable User Input'" (event)="gsResponse.disableUserInput = $event.target.checked"></api-checkbox>
                                          </div>
                                          <!--Response settings start-->
                                          <div class="form-group">
                                            <label>Mask</label>
                                            <input class="form-control" placeholder="Mask" [(ngModel)]="gsResponse.settings.mask" name="mask" />
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.settings.secured" [label]="'Secured'" (event)="gsResponse.settings.secured = $event.target.checked"></api-checkbox>
                                          </div>
                                          <div class="form-group">
                                            <label>Validation Regular Expression</label>
                                            <input class="form-control" placeholder="Validation Regex" [(ngModel)]="gsResponse.settings.validationRegex" name="validationRegex"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Error Message On Validation Failed</label>
                                            <input class="form-control" placeholder="Error Message" [(ngModel)]="gsResponse.settings.errorMessage" name="errorMessage"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Placeholder</label>
                                            <input class="form-control" placeholder="Placeholder" [(ngModel)]="gsResponse.settings.placeholder" name="placeholder" />
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.settings.enableDatePicker" [label]="'Enable Date Picker'" (event)="gsResponse.settings.enableDatePicker = $event.target.checked"></api-checkbox>
                                          </div>
                                          <!--Response settings end-->

                                          <div class="form-group">
                                            <label>Response Selection Expression</label>
                                            <input class="form-control" placeholder="Response Selection Expression" [(ngModel)]="gsResponse.selectionExpression" name="selectionExpression"
                                            />
                                          </div>

                                          <div class="form-group">
                                            <label>Response options</label>
                                            <table class="table table-striped">
                                              <thead>
                                                <tr>
                                                  <th>Input type</th>
                                                  <th>URL</th>
                                                  <th>Options</th>
                                                  <th>
                                                    <button type="button" class="btn btn-primary" (click)="onAddResponseOption(gsResponse)">
                                                      <i class="ion-plus-round"></i>
                                                    </button>
                                                  </th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                                <tr *ngFor="let option of gsResponse.options">
                                                  <td>
                                                    <select class="selectpicker form-control" name="type" id="type" [(ngModel)]="option.type">
                                                      <option value="">Choose One</option>
                                                      <option value="BUTTON">Button</option>
                                                      <option value="CHECKBOX">Checkbox</option>
                                                      <option value="RADIO">Radio</option>
                                                      <option value="FILE_UPLOAD">File Upload</option>
                                                      <option value="OFFERED_DOCUMENT">Offering</option>
                                                      <option value="CARD">Card</option>
                                                      <option value="DROPDOWN">Dropdown</option>
                                                    </select>
                                                  </td>
                                                  <td>
                                                    <input type="text" class="form-control" placeholder="URL" [(ngModel)]="option.url" name="url">
                                                  </td>
                                                  <td *ngIf="option.type != 'CARD' && option.type != 'OFFERED_DOCUMENT' ">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>Value</th>
                                                          <th>Label</th>
                                                          <th>URL</th>
                                                          <th>Language</th>
                                                          <th>Agent ID</th>
                                                          <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th>
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr *ngFor="let row of option.data">
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Value" [value]="row.value" (input)="row.value = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Language" [value]="row.language" (input)="row.language = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Agent ID" [value]="row.agentId" (input)="row.agentId = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                  </td>
                                                  <td *ngIf="option.type === 'CARD'">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>card</th>
                                                          <!-- <th>
                                                              <button type="button" class="btn btn-primary" (click)="onAddCardData(option)">
                                                                <i class="ion-plus-round"></i>
                                                              </button>
                                                            </th> -->
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr>
                                                          <td>
                                                            <select class="selectpicker form-control" id="selectStatus" title="Choose card" [(ngModel)]="option.cardData" name="cardData"
                                                              multiple="true">
                                                              <option *ngFor="let cardData of selectedDomain.cards" [ngValue]="cardData.cardName">{{ cardData.cardName }}</option>
                                                            </select>
                                                          </td>
                                                          <!-- <td>
                                                              <button type="button" class="btn btn-danger" (click)="deleteCardData(option.cardData,rowCard)">
                                                                <i class="ion-ios-trash"></i>
                                                              </button>
                                                            </td> -->
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                  </td>

                                                  <!--  adding metadata of offered document -->
                                                  <td *ngIf="option.type == 'OFFERED_DOCUMENT'">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>Label</th>
                                                          <th>URL</th>
                                                          <th>File Size</th>
                                                          <th>File Type</th>
                                                          <th>File Reference</th>

                                                          <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th>
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr *ngFor="let row of option.data">
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Size" [value]="row.fileSize" (input)="row.fileSize = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="File Type" [value]="row.fileType" (input)="row.fileType = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="File Reference" [value]="row.fileReference" (input)="row.fileReference = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                  </td>

                                                  <td>
                                                    <button type="button" class="btn btn-danger" (click)="delete(gsResponse.options, option)">
                                                      <i class="ion-ios-trash"></i>
                                                    </button>
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>
                                          </div>
                                          <button type="button" class="btn btn-danger" (click)="deleteGoalStepResponse(goalStep, gsResponse)">
                                            Remove Response
                                          </button>
                                        </form>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <form>
                              <button type="button" class="btn btn-success" (click)="addNewGoalStepResponse(goalStep, language)">Add Response
                              </button>
                            </form>
                          </div>
                        </div>
                        <div *ngIf="langIndex != 0" [id]="'gsLangCollapse' + index + langIndex" class="collapse" role="tabpanel" [attr.aria-labelledby]="'gsLangTabHeading' + index + langIndex">
                          <div class="card-block">
                            <div [id]="'gsRespAccordion' + index + langIndex" role="tablist" aria-multiselectable="true" *ngIf="goalStep.responses && goalStep.responses.length > 0">
                              <div *ngFor="let gsResponse of getLangSpecificResponses(goalStep.responses, language); let respIndex=index" class="panel">
                                <div class="card">
                                  <div *ngIf="respIndex == 0" [id]="'gsRespTabHeading' + index + langIndex + respIndex" class="card-header" heightStyle="content"
                                    role="tab">
                                    <h5 class="mb-0">
                                      <a data-toggle="collapse" [attr.data-parent]="'#gsRespAccordion' + index + langIndex" [href]="'#gsRespCollapse' + index + langIndex + respIndex"
                                        aria-expanded="true" [attr.aria-controls]="'gsRespCollapse' + index + langIndex + respIndex">
                                        {{gsResponse.response ? gsResponse.response : "(Emtpy Response)"}}
                                      </a>
                                    </h5>
                                  </div>
                                  <div *ngIf="respIndex != 0" [id]="'gsRespTabHeading' + index + langIndex + respIndex" class="card-header" heightStyle="content"
                                    role="tab">
                                    <h5 class="mb-0">
                                      <a class="collapsed" data-toggle="collapse" [attr.data-parent]="'#gsRespAccordion' + index + langIndex" [href]="'#gsRespCollapse' + index + langIndex + respIndex"
                                        aria-expanded="false" [attr.aria-controls]="'gsRespCollapse' + index + langIndex + respIndex">
                                        {{gsResponse.response ? gsResponse.response : "(Emtpy Response)"}}
                                      </a>
                                    </h5>
                                  </div>
                                  <div *ngIf="respIndex == 0" [id]="'gsRespCollapse' + index + langIndex + respIndex" class="collapse show" role="tabpanel"
                                    [attr.aria-labelledby]="'gsLangTabHeading' + respIndex">
                                    <div class="card-block">
                                      <form>
                                        <div class="form-group">
                                          <label>Sequence</label>
                                          <input type="number" class="form-control" placeholder="Sequence" [(ngModel)]="gsResponse.sequence" name="sequence" min="0"
                                            onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Stage</label>
                                          <select class="selectpicker form-control" title="Choose Stage" [(ngModel)]="gsResponse.stage" name="stage">
                                            <option *ngFor="let stage of stagesSource" [value]="stage.value">{{stage.label}}</option>
                                          </select>
                                        </div>
                                        <div class="form-group">
                                          <label>Response</label>
                                          <input class="form-control" placeholder="Response" [(ngModel)]="gsResponse.response" name="response" />
                                        </div>
                                        <div class="form-group">
                                          <label>Context Expression</label>
                                          <input class="form-control" placeholder="Context Expression" [(ngModel)]="gsResponse.contextExpression" name="contextExpression"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Action HTML</label>
                                          <textarea class="form-control" placeholder="Action HTML" [(ngModel)]="gsResponse.actionHTML" name="actionHTML"></textarea>
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.disableUserInput" [label]="'Disable User Input'" (event)="gsResponse.disableUserInput = $event.target.checked"></api-checkbox>
                                        </div>
                                        <!--Response settings start-->
                                        <div class="form-group">
                                          <label>Mask</label>
                                          <input class="form-control" placeholder="Mask" [(ngModel)]="gsResponse.settings.mask" name="mask" />
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.settings.secured" [label]="'Secured'" (event)="gsResponse.settings.secured = $event.target.checked"></api-checkbox>
                                        </div>
                                        <div class="form-group">
                                          <label>Validation Regular Expression</label>
                                          <input class="form-control" placeholder="Validation Regex" [(ngModel)]="gsResponse.settings.validationRegex" name="validationRegex"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Error Message On Validation Failed</label>
                                          <input class="form-control" placeholder="Error Message" [(ngModel)]="gsResponse.settings.errorMessage" name="errorMessage"
                                          />
                                        </div>
                                        <div class="form-group">
                                          <label>Placeholder</label>
                                          <input class="form-control" placeholder="Placeholder" [(ngModel)]="gsResponse.settings.placeholder" name="placeholder" />
                                        </div>
                                        <div class="form-group">
                                          <api-checkbox [checked]="gsResponse.settings.enableDatePicker" [label]="'Enable Date Picker'" (event)="gsResponse.settings.enableDatePicker = $event.target.checked"></api-checkbox>
                                        </div>
                                        <!--Response settings end-->

                                        <div class="form-group">
                                          <label>Response Selection Expression</label>
                                          <input class="form-control" placeholder="Response Selection Expression" [(ngModel)]="gsResponse.selectionExpression" name="selectionExpression"
                                          />
                                        </div>

                                        <div class="form-group">
                                          <label>Response options</label>
                                          <table class="table table-striped">
                                            <thead>
                                              <tr>
                                                <th>Input type</th>
                                                <th>URL</th>
                                                <th>Options</th>
                                                <th>
                                                  <button type="button" class="btn btn-primary" (click)="onAddResponseOption(gsResponse)">
                                                    <i class="ion-plus-round"></i>
                                                  </button>
                                                </th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                              <tr *ngFor="let option of gsResponse.options">
                                                <td>
                                                  <select class="selectpicker form-control" name="type" id="type" [(ngModel)]="option.type">
                                                    <option value="">Choose One</option>
                                                    <option value="BUTTON">Button</option>
                                                    <option value="CHECKBOX">Checkbox</option>
                                                    <option value="RADIO">Radio</option>
                                                    <option value="FILE_UPLOAD">File Upload</option>
                                                    <option value="OFFERED_DOCUMENT">Offering</option>
                                                    <option value="CARD">Card</option>
                                                    <option value="DROPDOWN">Dropdown</option>
                                                  </select>
                                                </td>
                                                <td>
                                                  <input type="text" class="form-control" placeholder="URL" [(ngModel)]="option.url" name="url">
                                                </td>
                                                <td *ngIf="option.type != 'CARD' && option.type != 'OFFERED_DOCUMENT' ">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>Value</th>
                                                        <th>Label</th>
                                                        <th>URL</th>
                                                        <th>Language</th>
                                                        <th>Agent ID</th>
                                                        <th>
                                                          <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                            <i class="ion-plus-round"></i>
                                                          </button>
                                                        </th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let row of option.data">
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Value" [value]="row.value" (input)="row.value = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Language" [value]="row.language" (input)="row.language = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Agent ID" [value]="row.agentId" (input)="row.agentId = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                            <i class="ion-ios-trash"></i>
                                                          </button>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </td>
                                                <td *ngIf="option.type === 'CARD'">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>card</th>
                                                        <!-- <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddCardData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th> -->
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                        <td>
                                                          <select class="selectpicker form-control" id="selectStatus" title="Choose card" [(ngModel)]="option.cardData" name="cardData"
                                                            multiple="true">
                                                            <option *ngFor="let cardData of selectedDomain.cards" [ngValue]="cardData.cardName">{{ cardData.cardName }}</option>
                                                          </select>
                                                        </td>
                                                        <!-- <td>
                                                            <button type="button" class="btn btn-danger" (click)="deleteCardData(option.cardData,rowCard)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td> -->
                                                      </tr>
                                                    </tbody>
                                                  </table>

                                                </td>

                                                <!--  adding metadata of offered document -->
                                                <td *ngIf="option.type == 'OFFERED_DOCUMENT'">
                                                  <table class="table table-striped">
                                                    <thead>
                                                      <tr>
                                                        <th>Label</th>
                                                        <th>URL</th>
                                                        <th>File Size</th>
                                                        <th>File Type</th>
                                                        <th>File Reference</th>

                                                        <th>
                                                          <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                            <i class="ion-plus-round"></i>
                                                          </button>
                                                        </th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr *ngFor="let row of option.data">
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="Size" [value]="row.fileSize" (input)="row.fileSize = $event.target.value"
                                                          />
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="File Type" [value]="row.fileType" (input)="row.fileType = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <input type="text" class="form-control" placeholder="File Reference" [value]="row.fileReference" (input)="row.fileReference = $event.target.value">
                                                        </td>
                                                        <td>
                                                          <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                            <i class="ion-ios-trash"></i>
                                                          </button>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </td>

                                                <td>
                                                  <button type="button" class="btn btn-danger" (click)="delete(gsResponse.options, option)">
                                                    <i class="ion-ios-trash"></i>
                                                  </button>
                                                </td>
                                              </tr>
                                            </tbody>
                                          </table>
                                        </div>
                                        <button type="button" class="btn btn-danger" (click)="deleteGoalStepResponse(goalStep, gsResponse)">
                                          Remove Response
                                        </button>
                                      </form>
                                    </div>
                                  </div>
                                  <div *ngIf="respIndex != 0" [id]="'gsRespCollapse' + index + langIndex + respIndex" class="collapse" role="tabpanel" [attr.aria-labelledby]="'gsLangTabHeading' + respIndex">
                                    <div class="card-block">
                                      <div class="card-block">
                                        <form>
                                          <div class="form-group">
                                            <label>Sequence</label>
                                            <input type="number" class="form-control" placeholder="Sequence" [(ngModel)]="gsResponse.sequence" name="sequence" min="0"
                                              onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Stage</label>
                                            <select class="selectpicker form-control" title="Choose Stage" [(ngModel)]="gsResponse.stage" name="stage">
                                              <option *ngFor="let stage of stagesSource" [value]="stage.value">{{stage.label}}</option>
                                            </select>
                                          </div>
                                          <div class="form-group">
                                            <label>Response</label>
                                            <input class="form-control" placeholder="Response" [(ngModel)]="gsResponse.response" name="response" />
                                          </div>
                                          <div class="form-group">
                                            <label>Context Expression</label>
                                            <input class="form-control" placeholder="Context Expression" [(ngModel)]="gsResponse.contextExpression" name="contextExpression"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Action HTML</label>
                                            <textarea class="form-control" placeholder="Action HTML" [(ngModel)]="gsResponse.actionHTML" name="actionHTML"></textarea>
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.disableUserInput" [label]="'Disable User Input'" (event)="gsResponse.disableUserInput = $event.target.checked"></api-checkbox>
                                          </div>
                                          <!--Response settings start-->
                                          <div class="form-group">
                                            <label>Mask</label>
                                            <input class="form-control" placeholder="Mask" [(ngModel)]="gsResponse.settings.mask" name="mask" />
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.settings.secured" [label]="'Secured'" (event)="gsResponse.settings.secured = $event.target.checked"></api-checkbox>
                                          </div>
                                          <div class="form-group">
                                            <label>Validation Regular Expression</label>
                                            <input class="form-control" placeholder="Validation Regex" [(ngModel)]="gsResponse.settings.validationRegex" name="validationRegex"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Error Message On Validation Failed</label>
                                            <input class="form-control" placeholder="Error Message" [(ngModel)]="gsResponse.settings.errorMessage" name="errorMessage"
                                            />
                                          </div>
                                          <div class="form-group">
                                            <label>Placeholder</label>
                                            <input class="form-control" placeholder="Placeholder" [(ngModel)]="gsResponse.settings.placeholder" name="placeholder" />
                                          </div>
                                          <div class="form-group">
                                            <api-checkbox [checked]="gsResponse.settings.enableDatePicker" [label]="'Enable Date Picker'" (event)="gsResponse.settings.enableDatePicker = $event.target.checked"></api-checkbox>
                                          </div>
                                          <!--Response settings end-->

                                          <div class="form-group">
                                            <label>Response Selection Expression</label>
                                            <input class="form-control" placeholder="Response Selection Expression" [(ngModel)]="gsResponse.selectionExpression" name="selectionExpression"
                                            />
                                          </div>

                                          <div class="form-group">
                                            <label>Response options</label>
                                            <table class="table table-striped">
                                              <thead>
                                                <tr>
                                                  <th>Input type</th>
                                                  <th>URL</th>
                                                  <th>Options</th>
                                                  <th>
                                                    <button type="button" class="btn btn-primary" (click)="onAddResponseOption(gsResponse)">
                                                      <i class="ion-plus-round"></i>
                                                    </button>
                                                  </th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                                <tr *ngFor="let option of gsResponse.options">
                                                  <td>
                                                    <select class="selectpicker form-control" name="type" id="type" [(ngModel)]="option.type">
                                                      <option value="">Choose One</option>
                                                      <option value="BUTTON">Button</option>
                                                      <option value="CHECKBOX">Checkbox</option>
                                                      <option value="RADIO">Radio</option>
                                                      <option value="FILE_UPLOAD">File Upload</option>
                                                      <option value="OFFERED_DOCUMENT">Offering</option>
                                                      <option value="CARD">Card</option>
                                                      <option value="DROPDOWN">Dropdown</option>
                                                    </select>
                                                  </td>
                                                  <td>
                                                    <input type="text" class="form-control" placeholder="URL" [(ngModel)]="option.url" name="url">
                                                  </td>
                                                  <td *ngIf="option.type != 'CARD' && option.type != 'OFFERED_DOCUMENT' ">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>Value</th>
                                                          <th>Label</th>
                                                          <th>URL</th>
                                                          <th>Language</th>
                                                          <th>Agent ID</th>
                                                          <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th>
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr *ngFor="let row of option.data">
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Value" [value]="row.value" (input)="row.value = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Language" [value]="row.language" (input)="row.language = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Agent ID" [value]="row.agentId" (input)="row.agentId = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                  </td>
                                                  <td *ngIf="option.type === 'CARD'">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>card</th>
                                                          <!-- <th>
                                                              <button type="button" class="btn btn-primary" (click)="onAddCardData(option)">
                                                                <i class="ion-plus-round"></i>
                                                              </button>
                                                            </th> -->
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr>
                                                          <td>
                                                            <select class="selectpicker form-control" id="selectStatus" title="Choose card" [(ngModel)]="option.cardData" name="cardData"
                                                              multiple="true">
                                                              <option *ngFor="let cardData of selectedDomain.cards" [ngValue]="cardData.cardName">{{ cardData.cardName }}</option>
                                                            </select>
                                                          </td>
                                                          <!-- <td>
                                                              <button type="button" class="btn btn-danger" (click)="deleteCardData(option.cardData,rowCard)">
                                                                <i class="ion-ios-trash"></i>
                                                              </button>
                                                            </td> -->
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                  </td>

                                                  <!--  adding metadata of offered document -->
                                                  <td *ngIf="option.type == 'OFFERED_DOCUMENT'">
                                                    <table class="table table-striped">
                                                      <thead>
                                                        <tr>
                                                          <th>Label</th>
                                                          <th>URL</th>
                                                          <th>File Size</th>
                                                          <th>File Type</th>
                                                          <th>File Reference</th>

                                                          <th>
                                                            <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                                                              <i class="ion-plus-round"></i>
                                                            </button>
                                                          </th>
                                                        </tr>
                                                      </thead>
                                                      <tbody>
                                                        <tr *ngFor="let row of option.data">
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="Size" [value]="row.fileSize" (input)="row.fileSize = $event.target.value"
                                                            />
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="File Type" [value]="row.fileType" (input)="row.fileType = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <input type="text" class="form-control" placeholder="File Reference" [value]="row.fileReference" (input)="row.fileReference = $event.target.value">
                                                          </td>
                                                          <td>
                                                            <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                                                              <i class="ion-ios-trash"></i>
                                                            </button>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                  </td>

                                                  <td>
                                                    <button type="button" class="btn btn-danger" (click)="delete(gsResponse.options, option)">
                                                      <i class="ion-ios-trash"></i>
                                                    </button>
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>
                                          </div>
                                          <button type="button" class="btn btn-danger" (click)="deleteGoalStepResponse(goalStep, gsResponse)">
                                            Remove Response
                                          </button>
                                        </form>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <form>
                              <button type="button" class="btn btn-success" (click)="addNewGoalStepResponse(goalStep, language)">Add Response
                              </button>
                            </form>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-success" (click)="addNewGoalStep()">Add Goal Response</button>
        <button *ngIf="!createMode" type="submit" class="btn btn-danger" data-dismiss="modal" (click)="removeGoal()">Remove</button>
        <button type="submit" class="btn btn-primary" (click)="addGoal()">{{createMode ? 'Create' : 'Update'}}</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="responseModal" tabindex="-1" role="dialog" attr.aria-labelledby="responseModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="responseModalLabel">
          {{modalHeader}}
        </h4>
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
          <span class="sr-only">Close</span>
        </button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label>Sequence</label>
            <input type="number" class="form-control" placeholder="Sequence" [(ngModel)]="tempResponse.sequence" name="sequence" min="0"
              onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
            />
          </div>
          <div class="form-group">
            <label>Stage</label>
            <select class="selectpicker form-control" title="Choose Stage" [(ngModel)]="tempResponse.stage" name="stage">
              <option *ngFor="let stage of stagesSource" [value]="stage.value">{{stage.label}}</option>
            </select>
          </div>
          <div class="form-group">
            <label>Expression</label>
            <!-- <input class="form-control" placeholder="Expression" [(ngModel)]="tempResponse.expression" name="expression" /> -->
            <textarea class="form-control" placeholder="Enter response expressions (separated by line)" [(ngModel)]="bulkExpressions"
              name="bulkExpressions"></textarea>
          </div>
          <div class="form-group">
            <label>Context Expression</label>
            <input class="form-control" placeholder="Context Expression" [(ngModel)]="tempResponse.contextExpression" name="contextExpression"
            />
          </div>
          <div class="form-group">
            <label>Language</label>
            <select class="selectpicker form-control" title="Select Language" [(ngModel)]="tempResponse.lang" name="lang">
              <option *ngFor="let language of selectedDomain.langSupported" [ngValue]="language">{{language}}</option>
            </select>
          </div>
          <div class="form-group">
            <label>Response</label>
            <input class="form-control" placeholder="Response" [(ngModel)]="tempResponse.response" name="response" />
          </div>
          <div class="form-group">
            <label>Action HTML</label>
            <textarea class="form-control" placeholder="Action HTML" [(ngModel)]="tempResponse.actionHTML" name="actionHTML"></textarea>
          </div>
          <div class="form-group">
            <api-checkbox [checked]="tempResponse.disableUserInput" [label]="'Disable User Input'" (event)="tempResponse.disableUserInput = $event.target.checked"></api-checkbox>
          </div>
          <!--Response settings start-->
          <div class="form-group">
            <label>Mask</label>
            <input class="form-control" placeholder="Mask" [(ngModel)]="tempResponse.settings.mask" name="mask" />
          </div>
          <div class="form-group">
            <api-checkbox [checked]="tempResponse.settings.secured" [label]="'Secured'" (event)="tempResponse.settings.secured = $event.target.checked"></api-checkbox>
          </div>
          <div class="form-group">
            <label>Validation Regular Expression</label>
            <input class="form-control" placeholder="Validation Regex" [(ngModel)]="tempResponse.settings.validationRegex" name="validationRegex"
            />
          </div>
          <div class="form-group">
            <label>Error Message On Validation Failed</label>
            <input class="form-control" placeholder="Error Message" [(ngModel)]="tempResponse.settings.errorMessage" name="errorMessage"
            />
          </div>
          <div class="form-group">
            <label>Placeholder</label>
            <input class="form-control" placeholder="Placeholder" [(ngModel)]="tempResponse.settings.placeholder" name="placeholder"
            />
          </div>
          <div class="form-group">
            <api-checkbox [checked]="tempResponse.settings.enableDatePicker" [label]="'Enable Date Picker'" (event)="tempResponse.settings.enableDatePicker = $event.target.checked"></api-checkbox>
          </div>
          <!--Response settings end-->

          <div class="form-group">
            <label>Response Selection Expression</label>
            <input class="form-control" placeholder="Response Selection Expression" [(ngModel)]="tempResponse.selectionExpression" name="selectionExpression"
            />
          </div>
          <div class="form-group">
            <label>File Upload</label>
            <button type="button" class="btn btn-primary pull-right" (click)="onAddFileUploadResponse()">
              <i class="ion-plus-round"></i>
            </button>
          </div>
          <div *ngIf="isAddFileUploadResponse">
            <div class="form-group">
              <label>Function Name</label>
              <input class="form-control" placeholder="Function Name" [(ngModel)]="tempResponse.uploadDocument.functionInstanceName" name="functionInstanceName"
              />
            </div>
            <div class="form-group">
              <label>Entity Type</label>
              <input class="form-control" placeholder="Entity Type" [(ngModel)]="tempResponse.uploadDocument.entityType" name="entityType"
              />
            </div>
            <div class="form-group">
              <label>Entity Reference</label>
              <input class="form-control" placeholder="Entity Reference" [(ngModel)]="tempResponse.uploadDocument.entityRef" name="entityRef"
              />
            </div>
            <div class="form-group">
              <label>Version</label>
              <input class="form-control" placeholder="Version" [(ngModel)]="tempResponse.uploadDocument.version" name="version" />
            </div>
            <div class="form-group">
              <label>File Name</label>
              <input class="form-control" placeholder="File Name" [(ngModel)]="tempResponse.uploadDocument.fileName" name="fileName" />
            </div>
          </div>
          <div class="form-group">
            <label>Response options</label>
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Input type</th>
                  <th>URL</th>
                  <th>Options</th>
                  <th>
                    <button type="button" class="btn btn-primary" (click)="onAddResponseOption(tempResponse)">
                      <i class="ion-plus-round"></i>
                    </button>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let option of tempResponse.options">
                  <td>
                    <select class="selectpicker form-control" name="type" id="type" [(ngModel)]="option.type">
                      <option value="">Choose One</option>
                      <option value="BUTTON">Button</option>
                      <option value="CHECKBOX">Checkbox</option>
                      <option value="RADIO">Radio</option>
                      <option value="FILE_UPLOAD">File Upload</option>
                      <option value="OFFERED_DOCUMENT">Offering</option>
                      <option value="CARD">Card</option>
                      <option value="DROPDOWN">Dropdown</option>
                    </select>
                  </td>
                  <td>
                    <input type="text" class="form-control" placeholder="URL" [(ngModel)]="option.url" name="url">
                  </td>
                  <td *ngIf="option.type != 'CARD' && option.type != 'OFFERED_DOCUMENT'">
                    <table class="table table-striped">
                      <thead>
                        <tr>
                          <th>Value</th>
                          <th>Label</th>
                          <th>URL</th>
                          <th>Language</th>
                          <th>Agent ID</th>
                          <th>
                            <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                              <i class="ion-plus-round"></i>
                            </button>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let row of option.data">
                          <td>
                            <input type="text" class="form-control" placeholder="Value" [value]="row.value" (input)="row.value = $event.target.value"
                            />
                          </td>
                          <td>
                            <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                            />
                          </td>
                          <td>
                            <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                          </td>
                          <td>
                            <input type="text" class="form-control" placeholder="Language" [value]="row.language" (input)="row.language = $event.target.value">
                          </td>
                          <td>
                            <input type="text" class="form-control" placeholder="Agent ID" [value]="row.agentId" (input)="row.agentId = $event.target.value">
                          </td>
                          <td>
                            <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                              <i class="ion-ios-trash"></i>
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                  <td *ngIf="option.type === 'CARD'">
                    <table class="table table-striped">
                      <thead>
                        <tr>
                          <th>card</th>
                          <!-- <th>
                              <button type="button" class="btn btn-primary" (click)="onAddCardData(option)">
                                <i class="ion-plus-round"></i>
                              </button>
                            </th> -->
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>
                            <select class="selectpicker form-control" id="selectStatus" title="Choose card" [(ngModel)]="option.cardData" name="cardData"
                              multiple="true">
                              <option *ngFor="let cardData of selectedDomain.cards" [ngValue]="cardData.cardName">{{ cardData.cardName }}</option>
                            </select>
                          </td>
                          <!-- <td>
                              <button type="button" class="btn btn-danger" (click)="deleteCardData(option.cardData,rowCard)">
                                <i class="ion-ios-trash"></i>
                              </button>
                            </td> -->
                        </tr>
                      </tbody>
                    </table>

                  </td>

                  <!--  adding metadata of offered document -->
                  <td *ngIf="option.type == 'OFFERED_DOCUMENT'">
                    <table class="table table-striped">
                      <thead>
                        <tr>
                          <th>Label</th>
                          <th>URL</th>
                          <th>File Size</th>
                          <th>File Type</th>
                          <th>File Reference</th>

                          <th>
                            <button type="button" class="btn btn-primary" (click)="onAddData(option)">
                              <i class="ion-plus-round"></i>
                            </button>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let row of option.data">
                          <td>
                            <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                            />
                          </td>
                          <td>
                            <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                          </td>
                          <td>
                            <input type="text" class="form-control" placeholder="Size" [value]="row.fileSize" (input)="row.fileSize = $event.target.value"
                            />
                          </td>
                          <td>
                            <input type="text" class="form-control" placeholder="File Type" [value]="row.fileType" (input)="row.fileType = $event.target.value">
                          </td>
                          <td>
                            <input type="text" class="form-control" placeholder="File Reference" [value]="row.fileReference" (input)="row.fileReference = $event.target.value">
                          </td>
                          <td>
                            <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                              <i class="ion-ios-trash"></i>
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>

                  <td>
                    <button type="button" class="btn btn-danger" title="delete" (click)="delete(tempResponse.options, option)">
                      <i class="ion-ios-trash"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </form>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button *ngIf="!createMode" type="submit" class="btn btn-danger" data-dismiss="modal" (click)="removeResponse()">Remove</button>
        <button type="submit" class="btn btn-primary" (click)="addResponse()">{{createMode ? 'Create' : 'Update'}}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- card modal -->
<div class="modal fade" id="cardModal" tabindex="-1" role="dialog" attr.aria-labelledby="cardModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="cardModalLabel">
          {{modalHeader}}
        </h4>
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
          <span class="sr-only">Close</span>
        </button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label>Card Name</label>
            <input class="form-control" placeholder="Card Name" [(ngModel)]="tempCard.cardName" name="cardName" />
          </div>
          <div class="form-group">
            <label>Template</label>
            <select class="selectpicker form-control" title="Select Template" [(ngModel)]="tempCard.templateName" name="templateName">
              <option *ngFor="let template of templateNames" [ngValue]="template">{{template}}</option>
            </select>
          </div>
          <div class="form-group">
            <label>Title</label>
            <input class="form-control" placeholder="Title" [(ngModel)]="tempCard.title" name="title" />
          </div>
          <div class="form-group">
            <label>Sub Title</label>
            <input class="form-control" placeholder="Sub Title" [(ngModel)]="tempCard.subTitle" name="subTitle" />
          </div>
          <div class="form-group">
            <label>Avatar URL</label>
            <input class="form-control" placeholder="Avatar Image Url" [(ngModel)]="tempCard.avatarImageUrl" name="avatarImageUrl" />
          </div>
          <div class="form-group">
            <label>Image Url</label>
            <input class="form-control" placeholder="Image Url" [(ngModel)]="tempCard.imageUrl" name="imageUrl" />
          </div>
          <div class="form-group">
            <label>Content</label>
            <input class="form-control" placeholder="Content" [(ngModel)]="tempCard.content" name="content" />
          </div>
          <div *ngIf="tempCard.templateName === 'default'" class="form-group">
            <label>Response options</label>
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Input type</th>
                  <th>Options</th>
                  <th>
                    <button type="button" class="btn btn-primary" (click)="onAddCardActionOption(tempCard)">
                      <i class="ion-plus-round"></i>
                    </button>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let option of tempCard.actionable">
                  <td>
                    <select name="type" id="type" [(ngModel)]="option.type">
                      <option value="">Choose One</option>
                      <option value="BUTTON">Button</option>
                      <option value="CHECKBOX">Checkbox</option>
                      <option value="RADIO">Radio</option>
                      <option value="FILE_UPLOAD">File Upload</option>
                      <option value="AGENT_SWITCH">Agent Switch</option>
                    </select>
                  </td>
                  <td>
                    <table class="table table-striped">
                      <thead>
                        <tr>
                          <th>Value</th>
                          <th>Label</th>
                          <th>URL</th>
                          <th *ngIf="option.type == 'AGENT_SWITCH'">Agent ID</th>
                          <th>
                            <button type="button" class="btn btn-primary" (click)="onAddCardActinableData(option)">
                              <i class="ion-plus-round"></i>
                            </button>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let row of option.data">
                          <td>
                            <input type="text" class="form-control" placeholder="Value" [value]="row.value" (input)="row.value = $event.target.value"
                            />
                          </td>
                          <td>
                            <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"
                            />
                          </td>
                          <td>
                            <input type="text" class="form-control" placeholder="URL" [value]="row.url" (input)="row.url = $event.target.value">
                          </td>
                          <td *ngIf="option.type == 'AGENT_SWITCH'">
                            <input type="text" class="form-control" placeholder="Agent ID" [value]="row.agentId" (input)="row.agentId = $event.target.value">
                          </td>
                          <td>
                            <button type="button" class="btn btn-danger" (click)="delete(option.data,row)">
                              <i class="ion-ios-trash"></i>
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                  <td>
                    <button type="button" class="btn btn-danger" title="delete" (click)="delete(tempCard.actionable, option)">
                      <i class="ion-ios-trash"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div *ngIf="tempCard.templateName == 'download'">
            <div class="form-group">
              <label>Function Name</label>
              <input class="form-control" placeholder="Function Name" [(ngModel)]="tempCard.document.functionInstanceName" name="functionInstanceName"
              />
            </div>
            <div class="form-group">
              <label>Entity Type</label>
              <input class="form-control" placeholder="Entity Type" [(ngModel)]="tempCard.document.entityType" name="entityType" />
            </div>
            <div class="form-group">
              <label>Entity Reference</label>
              <input class="form-control" placeholder="Entity Reference" [(ngModel)]="tempCard.document.entityRef" name="entityRef" />
            </div>
            <div class="form-group">
              <label>Version</label>
              <input class="form-control" placeholder="Version" [(ngModel)]="tempCard.document.version" name="version" />
            </div>
            <div class="form-group">
              <label>File Name</label>
              <input class="form-control" placeholder="File Name" [(ngModel)]="tempCard.document.fileName" name="fileName" />
            </div>
          </div>
        </form>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button *ngIf="!createMode" type="submit" class="btn btn-danger" data-dismiss="modal" (click)="removeCard()">Remove</button>
        <button type="submit" class="btn btn-primary" (click)="addCard()">{{createMode ? 'Create' : 'Update'}}</button>
      </div>
    </div>
  </div>
</div>


<!-- model modal -->
<div class="modal fade" id="modelModal" tabindex="-1" role="dialog" attr.aria-labelledby="modelModalLabel" aria-hidden="true">
  <div id="largemodal" class="modal-dialog modal-lg">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="modelModalLabel">
          {{ modalHeader }}
        </h4>
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
          <span class="sr-only">Close</span>
        </button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label>Form Name</label>
            <input class="form-control" placeholder="Form Name" [(ngModel)]="tempModel.modelName" name="modelName" />
          </div>
          <div class="form-group">
            <label>Header</label>
            <input class="form-control" placeholder="Form header" [(ngModel)]="tempModel.header" name="header" />
          </div>
          <div class="form-group">
            <div id="modelOptionsAccordion" role="tablist" aria-multiselectable="true" *ngIf="tempModel.responseOptions.length > 0">
              <div *ngFor="let responseOption of tempModel.responseOptions; let index=index" class="panel">
                <div class="card">
                  <div *ngIf="index == 0" [id]="'modeloptionsTabHeading' + index" class="card-header" heightStyle="content" role="tab">
                    <h5 class="mb-0">
                      <a data-toggle="collapse" data-parent="#modelOptionsAccordion" [href]="'#modeloptionsCollapse' + index" aria-expanded="true" [attr.aria-controls]="'modeloptionsCollapse' + index">
                        {{'Click to expand ' + (responseOption.option ? responseOption.option : '') }}
                      </a>
                    </h5>
                  </div>
                  <div *ngIf="index != 0" [id]="'modeloptionsTabHeading' + index" class="card-header" heightStyle="content" role="tab">
                    <h5 class="mb-0">
                      <a class="collapsed" data-toggle="collapse" data-parent="#modelOptionsAccordion" [href]="'#modeloptionsCollapse' + index" aria-expanded="false"
                        [attr.aria-controls]="'modeloptionsCollapse' + index">
                        {{'Click to expand ' + (responseOption.option ? responseOption.option : '') }}
                      </a>
                    </h5>
                  </div>

                  <div [id]="'modeloptionsCollapse' + index" [class]="index ==0 ? 'collapse show' : 'collapse'" role="tabpanel" [attr.aria-labelledby]="'modeloptionsTabHeading' + index">
                    <div class="card-block">
                      <form>
                        <div class="form-group">
                          <label>Option</label>
                          <select class="selectpicker form-control" title="Select Option" [(ngModel)]="responseOption.option" name="option">
                            <option *ngFor="let op of modelOptions" [ngValue]="op">{{ op }}</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label class="col-md-12 col-sm-12 col-xs-12" required [for]="'modelOptionsSequence' + index">
                             Sequence
                          </label>
                          <input type="number" class="col-md-12 col-sm-12 col-xs-12 form-control" required
                             [id]="'modelOptionsSequence' + index" placeholder="Sequence" onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : ((event.charCode >= 48 && event.charCode <= 57) || event.charCode == 46)"
                             [(ngModel)]="responseOption.sequence" name="sequence" />
                       </div>
                       <button type="button" class="btn btn-primary pull-right" (click)="onAddModelActinableData(responseOption)">
                          <i class="ion-plus-round">Add</i>
                      </button>
                       <div class="form-group">
                          <table class="table">  
                            <thead>
                              <tr>
                                <th>Label</th>
                                <th>Value</th>
                                <th *ngIf="responseOption.option == 'INPUT'">Placeholder</th>
                                <th *ngIf="responseOption.option == 'INPUT'">Mask</th>
                                <th *ngIf="responseOption.option == 'INPUT'">Validation Exp</th>
                                <th *ngIf="responseOption.option == 'INPUT'">errorMessage</th>
                                <th>Is<br>mandatory</th>
                                <th *ngIf="responseOption.option == 'INPUT'">Secured</th>
                                
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor=" let row of responseOption.responseData">
                                <td>
                                  <input type="text" class="form-control" placeholder="Label" [value]="row.label" (input)="row.label = $event.target.value"/>
                                </td>
                                <td>
                                  <input type="text" class="form-control" placeholder="value" [value]="row.value" (input)="row.value = $event.target.value"/>
                                </td>
                                <td *ngIf="responseOption.option == 'INPUT'">
                                  <input type="text" class="form-control" placeholder="placeholder" [value]="row.settings.placeholder" (input)="row.settings.placeholder = $event.target.value"/>
                                </td>
                                <td *ngIf="responseOption.option == 'INPUT'">
                                  <input type="text" class="form-control" placeholder="mask" [value]="row.settings.mask" (input)="row.settings.mask = $event.target.value"/>
                                </td>
                                <td *ngIf="responseOption.option == 'INPUT'">
                                  <input type="text" class="form-control" placeholder="validationRegex" [value]="row.settings.validationRegex" (input)="row.settings.validationRegex = $event.target.value"/>
                                </td>
                                <td *ngIf="responseOption.option == 'INPUT'">
                                  <input type="text" class="form-control" placeholder="errorMessage" [value]="row.settings.errorMessage" (input)="row.settings.errorMessage = $event.target.value"/>
                                </td>
                                <td style="text-align: center">
                                  <api-checkbox [checked]="row.settings.isMandatory" (event)="row.settings.isMandatory = $event.target.checked"></api-checkbox>
                                </td>
                                <td *ngIf="responseOption.option == 'INPUT'" style="text-align: center">
                                  <api-checkbox [checked]="row.settings.secured" (event)="row.settings.secured = $event.target.checked"></api-checkbox>
                                </td>
                                <td style="text-align: center">
                                  <button type="button" class="btn btn-danger" (click)="removeModelOptionData(responseOption.responseData, row)">
                                    <i class="ion-ios-trash"></i>
                                  </button>
                                </td>
                              </tr>

                            </tbody>
                          </table>
                       </div>
                      </form>
                      <button *ngIf="responseOption.option" class="btn btn-danger" (click)="removeModelOption(responseOption)">Remove</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
        </form>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button *ngIf="!createMode" type="submit" class="btn btn-danger" data-dismiss="modal" (click)="removeModel(tempModel)">Remove</button>
        <button type="submit" class="btn btn-primary" (click)="addModel()">{{createMode ? 'Create' : 'Update'}}</button>
        <button type="submit" class="btn btn-success" (click)="onAddModelResponseOption(tempModel)">Add option</button>
      </div>
    </div>
  </div>
</div>


<!-- Warning Modal -->
<div class="modal fade" id="domainUpdateModal" tabindex="-1" role="dialog" attr.aria-labelledby="warningLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="warningLabel">
          {{domainUpdate}}
        </h4>
      </div>

      <!-- Modal Body -->
      <div class="modal-body" id="modal_body">
        {{domainBody}}
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer" id="modal_footer" *ngIf="domainSucess">
        <button type="button" class="btn btn-default" data-dismiss="modal">Dismiss</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="tagErrorModal" tabindex="-1" role="dialog" attr.aria-labelledby="warningLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="warningLabel">
          Insufficient Tags
        </h4>
      </div>

      <!-- Modal Body -->
      <div class="modal-body" id="modal_body">
        Please atleast enter 8 or more tags
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer" id="modal_footer" *ngIf="domainSucess">
        <button type="button" class="btn btn-default" data-dismiss="modal">Dismiss</button>
      </div>
    </div>
  </div>
</div>
<div *ngIf="showTooltip" class="talk-bubble tri-right border round btm-right-in" style="position:fixed; right:5px; bottom:90px;">
  <div class="talktext">
    <b>{{'I am here, Test me!!'}}</b>
  </div>
</div>
<div *ngIf='showAutoCon'>
  <div dir="auto" [innerHTML]="botHtml"></div>
</div>


<div class="modal fade" id="activateModal" tabindex="-1" role="dialog" attr.aria-labelledby="activateModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title" id="activateModal">
            Warning
          </h4>
          <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">Close</span>
          </button>
        </div>
  
        <!-- Modal Body -->
        <div class="modal-body" id="modal_body">
          Once you activate this domain, previous active domain will be replaced by this domain.
          Are you sure you want to continue?
        </div>
  
        <!-- Modal Footer -->
        <div class="modal-footer" id="modal_footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" (click)="activateDomain(selectedDomain, 'activateModal')">Activate</button>
        </div>
      </div>
    </div>
  </div>